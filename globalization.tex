%%!TEX root = the-globalization.tex
\chapter{Globalization}\label{chap:globalization}

The globalization theorem states that a locally Alexandrov space is globally Alexandrov.
We prove it for compact spaces and indicate the proof of the general case.

\section{Globalization}

A complete geodesic metric space $\spc{A}$ is \index{locally $\Alex0$}\emph{locally $\Alex0$} if any point $p\in\spc{A}$ admits a neighborhood $U\ni p$ such that the $\EE^2$-comparison  holds for any quadruple of points in $U$.

It is straightforward to obtain a local version of Theorem~\ref{thm:defs_of_alex} for locally $\Alex0$ spaces;
it gives a list of equivalent properties that hold in sufficiently small neighborhoods of any point.
In particular, the analog of \ref{angle} implies that \textit{the angle measure of any hinge in locally $\Alex0$ space is well defined.}

\begin{thm}{Globalization theorem}\label{thm:glob} 
Any compact locally $\Alex0$ space is $\Alex0$.
\end{thm}

\parit{Proof modulo the key lemma (\ref{key-lem:globalization}).}
Note that condition \ref{angle-b} holds in $\spc{A}$ (the proof is the same).
It remains to check \ref{angle-a};
that is,
\[\mangle\hinge x p y\ge\angk x p y
\eqlbl{eq:mod-angle-CBB-comp-glob}\]
for any hinge $\hinge x p y$ in $\spc{A}$.

Inequality \ref{eq:mod-angle-CBB-comp-glob} holds for hinges in a small neighborhood of any point;
this can be proved the same way as \ref{clm:angle-defined} and \ref{ex:adjacent-CBB}, applying the local version of the $\EE^2$-comparison.
Since $\spc{A}$ is compact, there is $\eps>0$ such that \ref{eq:mod-angle-CBB-comp-glob} holds if $\dist{x}{p}{}+\dist{p}{y}{}<\eps$.
Applying the key lemma several times we get that \ref{eq:mod-angle-CBB-comp-glob} holds for any given hinge.
\qeds

\begin{thm}{Key lemma}\label{key-lem:globalization} 
Let $\spc{A}$ be a locally $\Alex0$ space.
Assume that the comparison
\[\mangle\hinge x p q
\ge\angk x p q\]
holds for any hinge $\hinge x p q$ with 
$\dist{x}{y}{}+\dist{x}{q}{}
<
\frac{2}{3}\cdot\ell$.
Then the comparison
\[\mangle\hinge x p q
\ge\angk x p q\] 
holds for any hinge $\hinge x p q$ with $\dist{x}{ p}{}+\dist{x}{q}{}<\ell$.
\end{thm}

Let $\hinge x p q$ be a hinge in $\spc{A}$.
Denote by $\side \hinge x p q$ its \index{21@$\side \hinge x p q$ (model side)}\index{model!side}\emph{model side};
this is the opposite side in a flat triangle with the same angle and two adjacent sides as in $\hinge x p q$.

\begin{wrapfigure}{r}{44mm}
\centering
\includegraphics{mppics/pic-105}
\end{wrapfigure}

More precisely,
consider the model hinge $\hinge {\tilde x} {\tilde p} {\tilde q}$ in $\EE^2$ such that
\begin{align*}
\mangle\hinge {\tilde x} {\tilde p} {\tilde q}_{\EE^2}&=\mangle\hinge x p q_{\spc{A}},
\\
\dist{\tilde x} {\tilde p}{\EE^2}&=\dist{x} {p}{\spc{A}},
\\
\dist{\tilde x} {\tilde q}{\EE^2}&=\dist{x} {q}{\spc{A}};
\intertext{then}
\side \hinge x p q_{\spc{A}}
&\df
\dist{\tilde p}{\tilde q}{\EE^2}.
\end{align*}

Note that 
\[\side \hinge x p q \ge\dist{p}{q}{}
\quad\Longleftrightarrow\quad
\mangle\hinge x p q\ge \angk x p q.
\]

\parit{Proof.} 
Consider a hinge $\hinge x p q$ such that 
\[\tfrac{2}{3}\cdot\ell \le\dist{p}{x}{}\z+\dist{x}{q}{}< \ell. \eqlbl{eq:thm:=def-loc-two-sided*}\]
It is sufficient to prove that
\[\side \hinge x p q
\ge\dist{p}{q}{}\eqlbl{eq:thm:=def-loc*}\]

First, let us describe a construction of a new hinge $\hinge{x'}p q$, which has many properties;
in particular,
\[
\dist{p}{x}{}+\dist{x}{q}{}\ge\dist{p}{x'}{}+\dist{x'}{q}{},
\eqlbl{eq:thm:=def-loc-fourstar}\]
and
\[\side \hinge x p q
\ge\side \hinge{x'}p q.
\eqlbl{eq:thm:=def-loc-fivestar}\]

\parit{Construction.}
Assume $\dist{x}{q}{}\ge\dist{x}{p}{}$; otherwise, switch the roles of $p$ and $q$.
Take $x'\in [x q]$ such that 
\[\dist{p}{x}{}+3\cdot\dist[{{}}]{x}{x'}{}
=\tfrac{2}{3}\cdot\ell.
\eqlbl{3|xx'|}\]
Choose a geodesic $[x' p]$ and consider the  hinge $\hinge{x'}p q$ formed by $[x'p]$ and $[x' q]\subset [x q]$.
The triangle inequality implies \ref{eq:thm:=def-loc-fourstar}.
Furthermore, 
\begin{align*}
\dist{p}{x}{}\z+\dist{x}{x'}{}&<\tfrac{2}{3}\cdot\ell,
&
\dist{p}{x'}{}\z+\dist{x'}{x}{}&<\tfrac{2}{3}\cdot\ell.
\end{align*}
In particular, the assumption of the lemma implies that
\[\mangle\hinge x p{x'}
\ge\angk x p{x'}
\quad \text{and}\quad 
\mangle\hinge {x'}p x
\ge\angk {x'}p x.
\eqlbl{eq:thm:=def-loc-threestar}\]

{

\begin{wrapfigure}{r}{30 mm}
\vskip-8mm
\centering
\includegraphics{mppics/pic-820}
\vskip-4mm
\end{wrapfigure}

Let
$\trig{\tilde x}{\tilde x'}{\tilde p}=\modtrig(x x' p)$.
Take $\tilde  q$ on the extension of $[\tilde  x\tilde  x']$ beyond $x'$ such that $\dist{\tilde x}{\tilde q}{}\z=\dist{x}{q}{}$ (and therefore $\dist{\tilde x'}{\tilde q}{}=\dist{x'}{q}{}$).
By~\ref{eq:thm:=def-loc-threestar},
\[\mangle\hinge x p q
=\mangle\hinge  x p{x'}\ge\angk x p{x'}\quad \Rightarrow\quad 
\side \hinge x q p\ge\dist{\tilde p}{\tilde q}{}.\]
Hence
\begin{align*}
\mangle\hinge{\tilde x'}{\tilde p}{\tilde q}&= 
\pi
-\angk{x'}p x
\ge
\\
&\ge
\pi-\mangle\hinge{x'}p x
=
\\
&=
\mangle\hinge{x'}p q,
\end{align*}
and \ref{eq:thm:=def-loc-fivestar} follows.

}

\medskip

Let us continue the proof.
Set $x_0=x$.
Let us apply inductively the above construction to get a sequence of hinges  $\hinge{x_n}p q$ with $x_{n+1}=x_n'$.
From \ref{eq:thm:=def-loc-fivestar}, we have that the sequence  $s_n\z=\side \hinge{x_n}p q$ is nonincreasing.
\begin{figure}[ht!]
\centering
\includegraphics{mppics/pic-825}
\end{figure}

The sequence $x_n$ terminates at some $n$ if
$\dist{p}{x_n}{}+\dist{x_n}{q}{}
\z<\tfrac{2}{3}\cdot\ell$.
In this case, by the assumptions of the lemma, $\side \hinge{x_n}p q\z\ge\dist{p}{q}{}$.
Since the sequence $s_n$ is nonincreasing, inequality \ref{eq:thm:=def-loc*} follows.

From now we assume that the process does not terminate.
Let us prove the following claim.
\begin{clm}{}\label{clm:>0}
The distances
$\dist{x_n}{x_{n+1}}{}$, $\dist{x_n}{p}{}$, and $\dist{x_n}{q}{}$ are bounded away from zero for all large $n$.
\end{clm}

Set
\begin{align*}
a_n&=\min\{\dist{p}{x_n}{},\dist{q}{x_n}{}\},
\\
b_n&=\max\{\dist{p}{x_n}{},\dist{q}{x_n}{}\},
\\
r_n&=\dist{p}{x_n}{}+\dist{x_n}{q}{}=a_n+b_n.
\end{align*}
By the triangle inequality, $r_n$ is a nonincreasing sequence,
and since $x_n$ does not terminate, we have $\tfrac{2}{3}\cdot\ell\le r_n<\ell$ for all $n$.

By \ref{3|xx'|}, $\dist{x_n}{x_{n+1}}{}=\tfrac13\cdot(\tfrac23\cdot\ell-a_n)$.
%From \ref{eq:thm:=def-loc-two-sided*} and \ref{eq:thm:=def-loc-fourstar},
Since $a_n+b_n=r_n<l$ and $a_n\le b_n$ it holds that
 $a_n\le \tfrac12\cdot\ell$.
Hence
\[
\tfrac29\cdot\ell\ge \dist{x_n}{x_{n+1}}{}\ge \tfrac1{18}\cdot\ell,
\eqlbl{eq:|xx'|>=l/18}
\]
which proves the claim for $\dist{x_n}{x_{n+1}}{}$.

Note that
\[a_{n+1}=b_n-\dist{x_n}{x_{n+1}}{}\qquad \text{or}\qquad b_{n+1}=b_n-\dist{x_n}{x_{n+1}}{}\]
In the latter case,
\[
\begin{split}
a_{n+1}&=r_{n+1}-b_{n+1}=
\\
&=(r_{n+1}-r_n)+(r_n-b_n)+\dist{x_n}{x_{n+1}}{}
\\
&=-(r_n-r_{n+1})+a_n+\dist{x_n}{x_{n+1}}{}.
\end{split}
\]
Since $r_n$ does not increase, it must converge;
so, $r_n-r_{n+1}\z\to 0$ as $n\to\infty$.
Therefore, $r_n-r_{n+1}\z\le \tfrac1{100}\cdot \ell$ for all large $n$.
Observe that $b_n\ge\tfrac12 \cdot r_n$, and therefore $b_n\ge \tfrac13\cdot\ell$.
Taking \ref{eq:|xx'|>=l/18} into account, we get that in both cases $a_{n+1}\ge\tfrac1{100}\cdot \ell$ for all large $n$,
which finishes the proof of the claim.
\claimqeds

Since $r_n-r_{n+1}\to 0$, \ref{clm:>0} implies that $\angk{x_n}{p_n}{x_{n+1}}\to \pi$,
where $p_n=p$ if $x_{n+1}\in [x_nq]$, and otherwise $p_n=q$.
Since $\mangle\hinge{x_n}{p_n}{x_{n+1}}\ge\angk{x_n}{p_n}{x_{n+1}}$, we have
$\mangle\hinge{x_n}{p_n}{x_{n+1}}\to \pi$  as $n\to\infty$.

It follows that
\[r_n-s_n=\dist{p}{x_n}{}+\dist{x_n}{q}{}-\side \hinge{x_n}p q\to 0.\] 
By the triangle inequality
$r_n\ge\dist{p}{q}{}$;
therefore,
\[\lim_{n\to\infty}s_n\ge \dist{p}{q}{}.\]
Finally, the monotonicity of the sequence $s_n=\side \hinge{x_n}p q$ implies \ref{eq:thm:=def-loc*}.
\qeds

\section{On general case}

\begin{thm}{Theorem}\label{thm:globalization+}
Any locally $\Alex\kappa$ space is $\Alex\kappa$.
\end{thm}

This is a more general version of our globalization theorem~\ref{thm:glob}.
It holds for an arbitrary curvature bound~$\kappa$ and replaces compactness with completeness.
A complete proof can be found in~\cite[2F]{alexander-kapovitch-petrunin2024}; it is based on the idea from \ref{thm:glob}, but requires a few additional twists that we are about to discuss.

\parbf{Trading compactness for completeness.}
Assume for a moment that $\kappa=0$.
To replace compactness by completeness, we need the following statement.

\begin{thm}{Exercise}\label{ex:alm-min}
Let $\spc{X}$ be a complete metric space.
Suppose $r\:\spc{X}\to \RR$ is a positive continuous function.
Show that for any $\eps>0$, there exists a point $p\in \spc{X}$ such that
\[
r(x)> (1-\eps)\cdot r(p)
\]
for every $x\in \cBall[p,\tfrac{1}{\eps}\cdot r(p)]$.

\end{thm}

Define $r(x)$ to be the maximal radius of a ball centered at $x$ in which the comparison condition holds (this definition should be made precise, but the details are not important here).
Note that if $r(x)=\infty$ for one (and therefore for every) point $x$, then the theorem follows immediately.
To prove the theorem, we need to choose a point $p$ satisfying the conclusion of the exercise and apply the key lemma.

\parbf{On general curvature bounds.}
The case $\kappa\le 0$ in \ref{thm:globalization+} can be proved in the same way as the case $\kappa=0$, but the case $\kappa>0$ requires extra care.
This is because model triangles may be undefined in $\MM^2(\kappa)$ when $\kappa>0$.%
\footnote{Recall that according to the definitions in Section~\ref{sec:Triangles and model triangles},
if $\angk p q r_{\MM^2(\kappa)}$, and hence $\modtrig(p q r)_{\MM^2(\kappa)}$, are defined for some $\kappa>0$, then
$\dist{p}{q}{}+\dist{q}{r}{}+\dist{r}{p}{}< 2\cdot\pi/\sqrt{\kappa}$.}

\parbf{Meaning of curvature bounded below.}
Recall that an $\Alex\kappa$ space is defined as a complete geodesic space having ``curvature $\ge\kappa$ in the sense of Alexandrov.''
This suggests that the following claim should hold.

\begin{thm}{Claim}\label{clm:K>k}
If $\Kappa>\kappa$, then any $\Alex\Kappa$ space is $\Alex\kappa$.
\end{thm}

The proof of this statement uses \ref{thm:globalization+}.

\parit{Proof.}
By~\ref{ex:k-><mono},
\[
\angk x y z_{\MM^2(\kappa)}\le \angk x y z_{\MM^2(\Kappa)}
\]
whenever the right-hand side is defined.
This completes the proof in the case $\Kappa\le 0$.
In general, however, the comparison holds only for sufficiently small triangles;
in particular, any $\Alex\Kappa$ space is \emph{locally} $\Alex\kappa$.
Therefore, \ref{thm:globalization+} completes the proof.
\qeds

While the expression ``curvature bounded below by $\kappa$'' makes sense for geodesic spaces,
it does not make much sense for general metric spaces.
For example, let $\spc{X}$ be the set $\{p,x_1,x_2,x_3\}$ with the metric defined by
$\dist{p}{x_i}{}=\pi$ and $\dist{x_i}{x_j}{}=2\cdot\pi$ for all $i\ne j$.
Since $\spc{X}$ has no defined spherical model angles, it formally has curvature $\ge 1$.
On the other hand, $\spc{X}$ does not have curvature $\ge 0$, since
\[
\angk  p{x_1}{x_2}_{\EE^2}
=\angk  p{x_2}{x_3}_{\EE^2}
=\angk  p{x_1}{x_3}_{\EE^2}
=\pi.
\]

\begin{thm}[!]{Exercise}\label{ex:RisCBB(1)}
Let $p$ and $q$ be points in an $\Alex1$ space $\spc{A}$.
Suppose $\dist{p}{q}{}>\pi$, and let $m$ be the midpoint of $[pq]$.
Show that for any hinge $\hinge mxp$, we have either
$\mangle\hinge mxp=0$ or $\mangle\hinge mxp=\pi$.

Conclude that $\spc{A}$ is isometric to a line segment or a circle.
\end{thm}

\begin{thm}{Exercise}\label{ex:perim-k>0}
Suppose  
$\spc{A}$ is an $\Alex1$
and $\diam \spc{A}\le \pi$.
Show that 
\[\dist{x}{y}{}+\dist{y}{z}{}+\dist{z}{x}{}\le 2\cdot\pi\]
for any triple of points $x,y,z\in \spc{A}$.
\end{thm}


\section{Remarks}

The globalization theorem is also known as the \textit{generalized Toponogov theorem}.
Its two-dimensional case was proved by Paolo Pizzetti \cite{pizzetti} and
rediscovered by Alexandr Alexandrov \cite{alexandrov:devel}. %is it right ref??
Victor Toponogov \cite{toponogov-globalization+splitting} proved it for Riemannian manifolds of all dimensions.
For Alexandrov spaces of all dimensions, the theorem first appears in the paper of Michael Gromov, Yuriy Burago, and Grigory Perelman \cite{burago-gromov-perelman}.
They prove globalization \textit{complete length spaces}.
Another version for \textit{noncomplete, but geodesic spaces} was proved by the second author \cite{petrunin:globalization}.


We took the proof from our book \cite{alexander-kapovitch-petrunin2024}, but reduced generality.
This proof is based on simplifications obtained by Conrad Plaut \cite{plaut:dimension} and Dmitry Burago, Yuriy Burago, and Sergei Ivanov \cite{burago-burago-ivanov}.
The same proof was rediscovered independently by Urs Lang and Viktor Schroeder \cite{lang-schroeder:globalization}.
Another simplified argument was found by Katsuhiro Shiohama \cite{shiohama}.




