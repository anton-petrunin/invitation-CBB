\chapter{Homotopy finiteness theorem}

\section{Controlled concavity}

While $\CBB$ spaces have plenty of semiconcave functions (for example $\distfun_p^2$), 
it is not at all easy to construct a strictly concave one. 
The following construction was given by Perelman \cite{perelman1993,perelman1994}.


\begin{thm}{Theorem}
\label{thm:strictly-concave}
Let $\spc{L}$ be a complete finite-dimensional geodesic $\Alex{0}$ space.
Then for any point $p\in \spc{L}$, there is  a strictly concave function $f$ defined in an
open neighborhood of $p$.

Moreover, given $0\ne v\in T_p$, the differential, $\dd_p f$, can be chosen
arbitrarily close to $x\mapsto -\<v,x\>$.
\end{thm}



\parit{Sketch.} 
Consider the real-to-real function 
$$\phi_{r,c}(x)=(x-r)- c{(x-r)^2}/r,$$
so we have 
$$\phi_{r,c}(r)=0,\ \ \phi_{r,c}'(r)=1\ \ \phi_{r,c}''(r)=- {2c}/{r}.$$ 

Let $\gamma$ be a unit-speed geodesic, fix a point $q$ and let 
$$\alpha(t)=\mangle(\gamma^+(t),\dir{\gamma(t)}{q}).$$
If $r>0$ is sufficiently small and $\dist q{\gamma(t)}{}$ is sufficiently close to
$r$, then direct calculations show that
$$(\phi_{r,c}\circ\distfun_q\circ\gamma)''(t)
\le 
\frac{3-c\cdot \cos^2[\alpha(t)]}{r}.$$

Now, assume $\{q_1,\dots, q_N\}$ is a finite set of points such that $\dist p{q_i}{}=r$ for any $i$. 
For a geodesic $\gamma$, set $\alpha_i(t)=\mangle(\gamma^+(t),\dir {\gamma(t)}{q_i})$. 
Assume we have a collection $\{q_i\}$ such
that for any geodesic $\gamma$ in $\oBall(p,\eps)$
we have $\max_i\{|\alpha_i(t)-\tfrac\pi2|\}\ge\eps>0$. 
Then taking in the above inequality $c>3N/\cos^2\eps$, we get that the function
$$f=\sum_i \phi_{r,c}\circ\distfun_{q_i}$$
is strictly concave in $\oBall(p,\eps')$ for some positive $\eps'<\eps$.

To construct the needed collection $\{q_i\}$, note that for small $r>0$ one can
choose $N\ge \Const/\delta^{(m-1)}$ points $\{q_i\}$ such that $\dist{p}{q_i}{}=r$
and $\angk p{q_j}{q_i}>\delta$ (here $\Const=\Const(\Sigma_p)>0$).
On the other hand, suppose $\gamma$ runs from $x$ to $y$.
If $|\alpha_i(t)- \tfrac\pi2|<\eps\ll\delta$, then applying the ($n$+1)-comparison to $\gamma(t)$, $x$, $y$ and all $\{q_i\}$ we get that
$N\le \Const(m)/\delta^{(m-2)}$. 
Therefore, for small $\delta>0$ and yet smaller $\eps>0$, the set $\{q_i\}$ forms the needed collection.

If $r$ is small, then points $q_i$ can be chosen so that all directions
$\dir p {q_i}$ will be $\eps$-close to a given direction $\xi$ and
therefore the second property follows.
\qeds

Note that in \ref{thm:strictly-concave} the function $f$ can be chosen to have maximum value $0$ at $p$,
$f(p)=0$ and with $\dd_p f(x)\approx-|x|$.
It can be constructed by taking the minimum of the functions in the theorem.
Then the set $\Omega=\set{x\in\spc{L}}{f(x)\ge -\eps}$ forms an open convex neighborhood of $p$ for any small $\eps>0$, so we get the following.


\begin{thm}{Corollary}\label{cor:convex-nbhd}
Any point $p$ of a complete finite-dimensional geodesic $\Alex{0}$ space admits an arbitrary small convex neighborhood $\Omega$ and a strictly concave function $f$ defined in a neighborhood of the closure $\bar\Omega$ such that $p$ is the maximum point of $f$
and $f|_{\partial\Omega}=0$.
\end{thm}

\section{Liftings}

Suppose that $\dist{\spc{L}}{\spc{L}'}{\GH}<\eps$, so we may think that both spaces $\spc{L}$ and $\spc{L}'$ lie on Haudorff distance $<\eps$ in an ambient metric space $\spc{W}$.
In particular, for any point $p\in \spc{L}$, we can choose a point $p'\in \spc{L}'$ such that $\dist{p}{p'}{\spc{W}}<\eps$;
the point $p'$ will be called a \emph{lifting} of $p$ in $\spc{L}'$.
Note that the lifting is not uniquely defined, and it depends on many things: the choice of $\spc{W}$ and the choice of inclusions $\spc{L},\spc{L}'\hookrightarrow\spc{W}$.


Choose a compact geodesic $m$-dimensional $\CBB(\kappa)$ space $\spc{L}$.
Suppose $\spc{L}'$ is another compact geodesic $m$-dimensional $\CBB(\kappa)$ space such that $\dist{\spc{L}}{\spc{L}'}{\GH}$ is sufficiently small --- smaller than some $\eps=\eps(\spc{L})>0$.
Then the construction in $\spc{L}$ from the previous section  
can be repeated in $\spc{L}'$ for the liftings of all points and the same function $\phi$.
It produces a strictly concave function defined in a controlled neighborhood of the lifting $p'$ of $p$.

The result of this and related constructions will be called \emph{liftings},
say we can talk about a lifting of a strictly concave function constructed in the proof of \ref{thm:strictly-concave} and a lifting of a convex neighborhood from \ref{cor:convex-nbhd}.
(Note that here one cannot use \ref{thm:strictly-concave} and \ref{cor:convex-nbhd} as black boxes --- one has to understand the construction.)


\section{Finiteness of homotopy types}

\begin{thm}{Theorem}\label{thm:h-finiteness}
There are only finitely many homotopy types of $m$-dimensional $\CBB(\kappa)$ spaces with diameter $\le D$ and volume $\ge v_0$;
here we assume that $m$ is an integer, and $v_0>0$.
\end{thm}

Recall that nerve is defined in Section~\ref{sec:dim-CAT}.
Further, we will use the following theorem,
a proof is given in \cite[4G.3]{hatcher}.

\begin{thm}{Nerve theorem}
If $\{\Omega_\alpha\}$ is an open cover of a paracompact space $\spc{X}$ such that every
nonempty finite intersection $\Omega_{\alpha_1}\cap\dots\cap\Omega_{\alpha_k}$ is contractible, then $\spc{X}$ is homotopy equivalent to the nerve of the cover.
\end{thm}


\parit{Sketch of \ref{thm:h-finiteness}.}
Assume the contrary, then we can choose a sequence of spaces $\spc{L}_1,\spc{L}_2,\dots$ that have different homotopy types and satisfy the assumptions of the theorem.
By Gromov's compactness theorem, we can assume that $\spc{L}_n$ converges to say $\spc{L}_\infty$ in the sense of Gromov--Hausdorff.


By \ref{ex:pack-vol}, $\LinDim \spc{L}_\infty=m$.
Since $\spc{L}_\infty$ is compact, applying \ref{cor:convex-nbhd}, we can find an open cover of $\spc{L}_\infty$  by convex open sets $\Omega_1,\dots, \Omega_k$ such that 
for each $\Omega_i$ there is a strictly concave function $f_i$ that is defined in a neighborhood of $\bar \Omega_i$ and such that $f_i|_{\partial \Omega_i}=0$.

Suppose that $W=\bigcap_{i\in S}\Omega_{i}\ne \emptyset$.
Then $W$ is contractible.
Indeed the function 
\[f_S\df\min_{i\in S} f_i\]
is strictly concave and it vanished on the boundary of $W$.
Therefore gradient flow for $f_S$ defines a homotopy of $W$ to the (necessarily unique) maximum point of $f_S$.
That is, the cover $\{\Omega_1,\dots, \Omega_k\}$ meets the assumptions of the nerve theorem.
Therefore $\spc{L}_\infty$ is homotopy equivalent to the nerve $\spc{N}$ of the cover.

The functions $f_i$ and sets $\Omega_i$ can be lifted to $\spc{L}_n$ keeping its properties for all large $n$. 
More precisely, there are liftings $f_{i,n}$ of all $f_i$ to $\spc{L}_n$ which are strictly concave for all large $n$ and such that $\bar\Omega_{i,n}=\set{x\in \spc{L}_n}{f_{i,n}(x)\ge 0}$ is a compact convex set and $\Omega_{i,n}\z=\set{x\in \spc{L}_n}{f_{i,n}(x)> 0}$ is an open convex set for each $i$.

It is not hard to check that $\{\Omega_{1,n},\dots,\Omega_{k,n}\}$ is an open cover of $\spc{L}_n$ for all large $n$.
Moreover, if $n$ is large, then any collection $\{\Omega_{i,n}\}_{i\in S}$ has a common point in $\spc{L}_n$ 
if and only if $\{\Omega_{i}\}_{i\in S}$ has a common point in $\spc{L}_\infty$.
It follows that for any large $n$ the following two covers are the same nerve
\begin{itemize}
\item $\{\Omega_{1},\dots,\Omega_{k}\}$ of $\spc{L}_\infty$ and 
\item $\{\Omega_{1,n},\dots,\Omega_{k,n}\}$ of $\spc{L}_n$.
\end{itemize}
Therefore, $\spc{L}_n$ is homotopy equivalent to $\spc{N}$ for all large $n$ --- a contradiction.
\qeds


\section{Comments}

All the results in this lecture can be generalized to $\CBB(\kappa)$ spaces for any $\kappa$.

All reasonable notions of dimension coincide for complete geodesic $\CBB$ spaces.
In particular,
\[\LinDim \spc{L}=\TopDim \spc{L}=\HausDim \spc{L}\]
for any complete geodesic $\CBB$ space $\spc{L}$.
Here $\HausDim$ stands for Hausdorff dimension.
By the following exercise, $\CAT$ spaces are not that good.

\begin{thm}{Exercise}
Construct a $\CAT(0)$ space $\spc{T}$ such that 
\[\TopDim \spc{T}=1
\quad\text{and}\quad
\HausDim \spc{T}=\infty.
\]

\end{thm}

Let us state a version of Bishop--Gromov inequality for curvature bound $\kappa=\pm1$.
Its proof is more technical.
A weaker inequality can be obtained by applying the same argument as above,
and it is sufficient to extend the rest of the result in the lecture.

\begin{thm}{Bishop--Gromov inequality}
Given a point $p$ in a complete geodesic $m$-dimensional $\CBB(\pm1)$ space consider the function $v(R)\z=\vol_m\oBall(p,R)$;
denote by $\tilde v(R)$ the volume of $R$ ball in the corresponding $m$-dimensional model space (the unit $m$-dimensional sphere or the $m$-dimensional Lobachevsky space).
Then 
\[v(R)\le \tilde v(R)\]
and the function 
\[R\mapsto \frac{v(R)}{\tilde v(R)}\] is nonincreasing;
in the $\CBB(1)$ case, one has to assume that $R<\pi$.
\end{thm}

The same inequality holds for complete $m$-dimensional Riemannian manifolds with Ricci curvature $\ge (m-1)\cdot \kappa$.

Gromov's compactness theorem is the main source of applications of $\CBB$ spaces.
It provides a converging sequence from a sequence of Riemannian manifolds, the limit is a $\CBB$ space that might fail to be Riemannian.
Therefore, to prove something about Riemannian manifolds we need to consider $\CBB$ spaces.
The homotopy-type finiteness theorem (\ref{thm:h-finiteness}) illustrates this technique,
but the same idea leads to stronger results; here is one example.

\begin{thm}{Homeorphism-type finiteness}
There are only finitely many homeorphism types of closed $m$-dimensional manifolds that admit a Riemannian metric with curvature $\ge \kappa$, and diameter $\le D$.
\end{thm}

In fact, this theorem implies diffeomorphism-type finiteness in all dimensions except 4.
The following theorem can be also proved using this technique (altho Gromov's original proof \cite{gromov-1981} did not use Alexandrov geometry).

\begin{thm}{Betti-number theorem}
There is a constant $\Const=\Const(m,D,\kappa)$ such that 
\[\beta_0(M)+\beta_1(M)+\dots+\beta_m(M)\le \Const\]
for any closed $m$-dimensional Riemannian manifold $M$ with curvature $\ge \kappa$ and diameter $\le D$.
Here $\beta_i(M)$ denotes $i^\text{th}$ Betti number of $M$.
\end{thm}

The following result is mine, and it uses the same technique.

\begin{thm}{Scalar curvature bound}
There is a constant $\Const=\Const(m,D,\kappa)$ such that 
\[\int_M\Sc\le \Const\]
for any closed $m$-dimensional Riemannian manifold $M$ with curvature $\ge \kappa$ and diameter $\le D$.
Here $\Sc$ denotes the scalar curvature.
\end{thm}

Gromov's compactness theorem holds for the closure in $\GH$ of $m$-dimensional Riemannian manifolds with a lower bound on Ricci curvature.
It motivates the study of the so-called $\mathrm{CD}(K,m)$ spaces; $\mathrm{CD}$ stands for curvature-dimension condition.
This theory has serious applications in Alexandrov geometry.
