\usepackage{amssymb, amsfonts, amsthm}
\usepackage[intlimits]{amsmath}
\usepackage{enumerate}
\usepackage{bm}%makes better bold fornt in math
\usepackage{color}
\usepackage{pifont,manfnt}
\usepackage[top=0.9in, bottom=0.9in,left=0.9in, right=0.9in, paperwidth=6in, paperheight=9in]{geometry}
\usepackage{graphicx}
\usepackage{epsfig,lpic,wrapfig}
\usepackage{ushort}
\usepackage[integrals]{wasysym} 
\usepackage{xfrac}
\usepackage{gensymb}%degree
\usepackage[normalem]{ulem}%striking thru text horizontally \sout
\usepackage{caption}
\usepackage{multicol}

\newenvironment{Figure}
  {\par\medskip\noindent\minipage{\linewidth}}
  {\endminipage\par\medskip}

\usepackage{titling}
\newcommand{\subtitle}[1]{%
\posttitle{%
\par\end{center}
\begin{center}\large#1\end{center}
\vskip0.5em}%
}

\usepackage[T1,T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian,german,english]{babel}
%\DeclareUnicodeCharacter{2010}{-}% support older LaTeX versions
%\DeclareUnicodeCharacter{0301}{*************************************}

\usepackage[
sorting=debug,
bibencoding=auto,
backend=biber,
maxnames=10,
%babel=other,
autolang=other,
doi=false,
url=false,
style=numeric-comp,
isbn=false]{biblatex}

\usepackage{csquotes}
\AtEveryBibitem{\clearlist{language}}
\AtEveryBibitem{\clearlist{note}}
\renewbibmacro{in:}{}
\renewcommand*{\bibfont}{\footnotesize}
\addbibresource{library.bib}


\DeclareFieldFormat{postnote}{#1}
\DeclareFieldFormat{multipostnote}{#1}
\DeclareFieldFormat{pages}{#1}

\addto\captionsenglish{\renewcommand{\chaptername}{Lecture}}

\usepackage{accsupp}
\usepackage{soulutf8}
\sodef\an{}{.1em}{.5em plus.1em}{.5em plus.1em minus.1em}

\newcommand\ann[1]{%
    \BeginAccSupp{method=escape,ActualText={\detokenize{#1}}}%
      \an{#1}%
    \EndAccSupp{}%
}

\def\emph{\ann}

\usepackage{titletoc}% http://ctan.org/pkg/titletoc
\titlecontents*{section}[.5em]
  {\small}
  {\thecontentslabel.~{}}
  {}
  { \textbf{\thecontentspage}}
  [; ][.]

%LIST STILES
\renewcommand{\@listI}{%
\leftmargin=25pt
\rightmargin=0pt
\labelsep=5pt
\labelwidth=20pt
\itemindent=0pt
\listparindent=0pt
\topsep=0pt plus 1pt
\partopsep=\topsep
\parsep=\topsep
\itemsep=\topsep}

%ITEMIZE-first order sign
\renewcommand{\labelitemi}{$\mathsurround=0pt \diamond$}
\renewcommand{\labelitemii}{$\mathsurround=0pt \circ$}

%ITEMIZE-first order sign
\renewcommand{\labelitemi}{$\mathsurround=0pt \diamond$}
\renewcommand{\labelitemii}{$\mathsurround=0pt \circ$}


\def\smallskip{\vskip\smallskipamount}
\def\medskip{\vskip\medskipamount}
\def\bigskip{\vskip\bigskipamount}


\def\parit#1{\medskip\noindent{\it #1}}
\def\parbf#1{\medskip\noindent{\bf #1}}

\def\noi{\noindent}%  

\def\CC{\mathbb{C}}%  
\def\DD{\mathbb{D}}% 
\def\EE{\mathbb{E}}%
\def\HH{\mathbb{H}}% 
\def\PP{\mathbb{P}}%  
\def\MM{\mathbb{M}}%
\def\NN{\mathbb{N}}%  
\def\RR{\mathbb{R}}% 
\def\SSS{\mathbb{S}}
\def\TT{\mathbb{T}}%
\def\T{\mathrm{T}}%
\def\UU{\mathrm{U}}%
\def\ZZ{\mathbb{Z}}% 
\def\QQ{\mathbb{Q}}% 
\def\II{\mathbb{I}}%
\def\2{\mathrm{I{\hskip-.1em}I}}

\def\RP{\RR\mathrm{P}}%
\def\CP{\CC\mathrm{P}}%
\def\Ad{\mathrm{Ad}}%
\def\Jac{\mathrm{Jac}}%
\def\jac{\mathrm{jac}}%
\def\haus{\mathrm{haus}}%
\def\Re{\mathrm{Re}}%
\def\Sc{\mathrm{Sc}}%
\def\SO{\mathrm{SO}}%
\def\SU{\mathrm{SU}}%
\def\SL{\mathrm{SL}}
\def\UU{\mathbb{U}}% 

\def\eps{\varepsilon}%  
\def\ge{\geqslant}%
\def\le{\leqslant}%
\def\lege{\lessgtr}
\def\gele{\gtrless}
\def\phi{\varphi}%
\def\<{\langle}%
\def\>{\rangle}%
\def\~{\tilde}%
\def\emptyset{\varnothing}%
\def\aall{\buildrel \hbox{\tiny\it a.e.} \over{=\joinrel=}}
\def\liminf{\varliminf}

%operators
\def\argmin{\mathop{\rm MinPoint}}
\def\const{\operatorname{\rm const}\nolimits}
\def\area{\operatorname{\rm area}\nolimits}
\def\perim{\operatorname{\rm perim}\nolimits}
\def\acts{\curvearrowright}
\def\bus{\operatorname{\rm bus}\nolimits}
\def\cost{\operatorname{\rm cost}\nolimits}
\def\vol{\operatorname{\rm vol}\nolimits}
\def\diam{\operatorname{\rm diam}\nolimits}
\def\codim{\operatorname{\rm codim}\nolimits}
\def\Const{c}
\def\dim{\operatorname{\rm dim}\nolimits}
\def\div{\operatorname{\rm div}\nolimits}
\def\FillRad{\operatorname{\rm FillRad}}
\def\GF{\mathop{\rm Flow}\nolimits}
\def\Hess{\operatorname{\rm hess}\nolimits}
\def\Haus{\operatorname{\rm Haus}\nolimits}
\def\GH{\operatorname{\rm GH}\nolimits}
\def\Im{\operatorname{\rm Im}\nolimits}
\def\InjRad{\operatorname{\rm InjRad}\nolimits}
\def\Inn{\operatorname{\rm Inn}\nolimits}
\def\Int{\operatorname{\rm Int}\nolimits}
\def\id{\operatorname{\rm id}\nolimits}
\def\kay{k}
\def\length{\operatorname{\rm length}\nolimits}
\def\Lin{\mathop{\rm Lin}\nolimits}
\def\LinDim{\mathop{\rm LinDim}\nolimits}
\def\rank{\operatorname{\rm rank}\nolimits}
\def\HausDim{\mathop{\rm HausDim}\nolimits}
\def\HausMes{\mathop{\rm HausMes}\nolimits}
\def\map{\Phi}
\def\pack{\operatorname{\rm pack}\nolimits}
\def\proj{\operatorname{\rm proj}\nolimits}
\def\gexp{\operatorname{\rm gexp}\nolimits}
\def\Ric{\operatorname{\rm Ric}\nolimits}
\def\Rm{\operatorname{\rm Rm}\nolimits}
\newcommand*{\spx}[1]{\mathfrak{S}_{#1}}
\def\supp{\operatorname{\rm supp}\nolimits}
\def\TopDim{\mathop{\rm TopDim}\nolimits}
\def\Tor{\operatorname{\rm Tor}\nolimits}
\def\Up{\mathop{\rm Up}\nolimits}
\def\VolPro{\operatorname{\rm VolPro}\nolimits}
\def\Wass{\operatorname{\rm Wass}\nolimits}
\def\width{\operatorname{\rm width}\nolimits}
\def\without{{-}}
\newcommand*{\hinge}[3]{[#1\,{}^{#2}_{#3}]}
\renewcommand*{\lg}{%
\mathrel{\vcenter{\offinterlineskip
\hbox{$<$}\vskip-0.75ex\hbox{$>$}}}}

\def\spc#1{\mathcal{#1}}
\def\oBall{\mathrm{B}{}}
\def\cBall{\overline{\mathrm{B}}{}}
\def\length{\mathop{\rm length}\nolimits}
\def\df{\mathrel{:=}}
\def\iso{\buildrel \hbox{\tiny\it iso} \over{=\joinrel=}}
%\def\GHto{\xrightarrow{\mbox{\tiny\rm GH}}}
%\def\Hto{\xrightarrow{\mbox{\tiny\rm H}}}
\def\rad{\mathop{\rm rad}\nolimits}
\def\Inj{\mathop{\rm Ext}\nolimits}
\def\IndexSet{\mathcal{A}}
\def\Cone{\mathop{\rm Cone}\nolimits}
\def\Susp{\mathop{\rm Susp}\nolimits}
\def\sys{\mathop{\rm sys}\nolimits}
\def\Dom{\mathop{\rm Dom}\nolimits}
\def\Lip{L}
\def\T{\mathrm{T}}
\def\0{0}
\def\subto{\to}
\newcommand*\dir[3][{}]{{\uparrow}_{[{#2}{#3}]_{#1}}}



\def\Asym{\mathop{\rm Asym}\nolimits}
\def\Conv{\mathop{\rm Conv}\nolimits}
\def\Link{\mathop{\rm Link}\nolimits}
\def\Star{\mathop{\rm Star}\nolimits}
\def\dd{\bm{d}}
\newcommand*\trig[3]{[#1#2#3]}
\newcommand*\angk[3]{\tilde\measuredangle(#1\,{}^{#2}_{#3})}
\newcommand*{\side}{\mathop{\tilde\curlyvee}\nolimits}
\def\CAT{\mathrm{CAT}}
\newcommand*\Alex[1]{\textsc{Alex}(#1)}
\def\modtrig{\tilde\triangle}
\def\mangle{\measuredangle}

\def\lege{\lessgtr}

\def\Kappa{\mathrm{K}}

\newcommand*\yetdist[4][{}]%
{\|{#2}\z-{#3}\|_{#4}^{#1}}

\newcommand*\dist[4][{}]%
{|{#2}\z-{#3}|_{#4}^{#1}}
\def\distfun{\mathrm{dist}}

\newcommand{\asterism}{\smash{%
\raisebox{-.5ex}{%
\setlength{\tabcolsep}{.5pt}%
\begin{tabular}{@{}cc@{}}%
\multicolumn2c*\\[-1.7ex]*&*%
\end{tabular}}}}

\def\:{\colon}
\newcommand*{\set}[2]{\left\{\,{#1}\,:\,{#2}\,\right\}}

\newcommand\xqed[1]{%
\leavevmode\unskip\penalty9999 \hbox{}\nobreak\hfill
\quad\hbox{#1}}
\def\claimqeds{\xqed{$\vartriangle$}\par\medskip}
\def\claimqedsf{\vskip-6mm\claimqeds}
\def\qeds{\qed\par\medskip}
\def\qedsin{\eqno\square}%END OF PROOF in FORMULA
\def\qedsf{\vskip-4.5mm\qeds\par\medskip}%END OF PROOF BY FORMULA

%comment
\def\comment#1{\par\smallskip
\hbox{%
\hspace{3em}\parbox{.91\textwidth}%
{{\small\it #1}}}
}

\DeclareCiteCommand{\ncite}%[\mkbibbrackets]
  {\usebibmacro{cite:init}%
   \usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   \usebibmacro{cite:comp}}
  {}
  {\usebibmacro{cite:dump}%
   \usebibmacro{postnote}}

\newcommand*{\z}[1]{#1\nobreak\discretionary{}%
            {\hbox{$\mathsurround=0pt #1$}}{}}

\let\oldcdot\cdot
\def\cdot{{\hskip0.5pt\z\oldcdot\hskip0.5pt}}


%THEOREM
\newcounter{thm}[chapter]
\renewcommand{\thethm}{\thechapter.\arabic{thm}}
\newcommand\claim[2][{}]{\par\medskip\noindent\refstepcounter{thm}\hbox{\bf \thechapter.\arabic{thm}. #2.#1}
\it\ %\ignorespaces
}
\def\endclaim{
\par\medskip}
\newenvironment{thm}{\claim}{\endclaim}


%SUBTHEOREM 
\newcounter{subthm}[thm]
\renewcommand{\thesubthm}{\hbox{\thethm\textit{\hskip-0.03em \alph{subthm}}}}
\newcounter{clone}[thm]
\renewcommand{\theclone}{\textit{(\alph{subthm})}}
\newenvironment{subthm}[1]{\ifthenelse{\equal{#1}{}}
{\par\refstepcounter{subthm}\begin{itemize}\item[(\alph{subthm})]}{\par\refstepcounter{subthm}\label{#1}\setcounter{clone}{\value{subthm}} \addtocounter{clone}{-1}\refstepcounter{clone}\label{SHORT.#1}\begin{itemize}
\item [(\alph{subthm})]}}{\end{itemize}}
%SUBTHEOREM A
\newcounter{subthmA}[thm]
\renewcommand{\thesubthmA}{\thethm\textit{\hskip-0.05em \Alph{subthmA}}}
\newcounter{cloneA}[thm]
\renewcommand{\thecloneA}{\textit{\Alph{subthmA}}}
\newenvironment{subthmA}[1]{\ifthenelse{\equal{#1}{}}
{\par\refstepcounter{subthmA}\begin{itemize}\item[\Alph{subthmA})]}{\par\refstepcounter{subthmA}\label{#1}\setcounter{cloneA}{\value{subthmA}} \addtocounter{cloneA}{-1}\refstepcounter{cloneA}\label{SHORT.#1}\begin{itemize}
\item [\Alph{subthmA})]}}{\end{itemize}}
%SUBTHEOREM 1
\newcounter{subthmN}[thm]
\renewcommand{\thesubthmN}{\thethm-\arabic{subthmN}}
\newcounter{cloneN}[thm]
\renewcommand{\thecloneN}{\arabic{subthmN}}
\newenvironment{subthmN}[1]{\ifthenelse{\equal{#1}{}}
{\par\refstepcounter{subthmN}\begin{itemize}\item[\arabic{subthmN})]}{\par\refstepcounter{subthmN}\label{#1}\setcounter{cloneN}{\value{subthmN}} \addtocounter{cloneN}{-1}\refstepcounter{cloneN}\label{SHORT.#1}\begin{itemize}
\item [\arabic{subthmN})]}}{\end{itemize}}

%CLAIM
\def\clmclaim#1{\par\medskip\noindent\refstepcounter{eqtn}\hbox{\rm\numform{eqtn} #1}
\it%\ignorespaces
}
\def\endclmclaim{\par
\medskip}
\newenvironment{clm}{\clmclaim}{\endclmclaim}

%NUMBERONCIRC
\newcommand*{\numform}[1]{\@numform{\@nameuse{c@#1}}}
\newcommand*{\@numform}[1]%
{\ifcase #1\or \ding{202}\or \ding{203}\or \ding{204}\or \ding{205}\or \ding{206}\or \ding{207}\or \ding{208}\or \ding{209}\or \ding{210}\or \ding{211}\else\@ctrerr \fi}
%EQNUMBER
\newcounter{eqtn}[section]
\renewcommand{\@eqnnum}{\theeqtn}
\renewcommand{\theeqtn}{\numform{eqtn}}
\newcommand{\eqlbl}[1]{\refstepcounter{eqtn}\leqno{\text{\numform{eqtn}\label{#1}}}}

\newcommand{\qcomma}{\ooalign{\hss,\kern.03em\hss\cr?}}

\makeatletter\renewcommand{\p@section}{\thechapter}\makeatother
\renewcommand{\thesection}{\Alph{section}}

\hyphenation{ 
Alex-an-drov 
Ber-ger
geo-de-sic
geo-de-sics
half-space 
ho-mo-mor-phism 
ho-meo-mor-phisms
non-emp-ty
Bow-ditch
Ca-me-ron
Ka-po-vitch
Kar-sten
Kirsz-braun 
Ku-ra-tow-ski 
Lyt-chak 
Mat-ve-yev
Pe-tru-nin
Pol-te-ro-vich
Ury-sohn
co-bound-ed
dif-feo-mor-phisms 
para-met-rized 
pin-ched
qua-si-geo-de-sic 
qua-si-geo-de-sics
sub-ma-ni-fold 
Rie-mann-ian 
Vla-di-mir
}
