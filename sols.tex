%%!TEX root = the-sols.tex

\chapter{Semisolutions}

\parbf{\ref{ex:compact+connceted}.}
Choose a sequence of positive numbers $\varepsilon_n\to 0$ and a finite $\varepsilon_n$-net $N_n$ of $K$ for each $n$.
%???eps-net are not defined!!!
We can assume that $\eps_0>\diam K$, and $N_0$ is a one-point set.
If $\dist{x}{y}{}<\eps_k$ for some $x\in N_{k+1}$ and $y\in N_{k}$, then connect them by a curve of length at most $\eps_k$.

Let $K'$ be the union of all these curves and $K$.
Show that $K'$ is compact and path-connected.

\parit{Source:} This problem is due to Eugene Bilokopytov \cite{bilokopytov}.

\parbf{\ref{ex:compact=>complete}.}
Choose a Cauchy sequence $x_n$ in $(\spc{X},\|*\z-*\|)$; it is sufficient to show that a subsequence of $x_n$ converges.

Observe that the sequence $x_n$ is Cauchy in $(\spc{X},|*-*|)$;
denote its limit by $x_\infty$.

Passing to a subsequence, we can assume that $\|x_n-x_{n+1}\|\z<\tfrac1{2^n}$.
It follows that there is a 1-Lipschitz path $\gamma$ in $(\spc{X},\|*-*\|)$ such that $x_n=\gamma(\tfrac1{2^n})$ for each $n$ and $x_\infty=\gamma(0)$.
Therefore,
\begin{align*}
\|x_\infty-x_n\|&\le \length\gamma|_{[0,\frac1{2^n}]}\le \tfrac1{2^n}.
\end{align*}
In particular, $x_n$ converges to $x_\infty$ in $(\spc{X},\|*\z-*\|)$.

\parit{Source:} \cite[Corollary]{hu-kirk}; see also \cite[Lemma 2.3]{petrunin-stadler}.

\parbf{\ref{ex:compact-length}.}
Given a pair of points $p$ and $q$, choose a sequence of paths $\gamma_n$ from $p$ to $q$ such that
\[\length\gamma_n\to \dist pq{}
\quad\text{as}\quad
n\to\infty;\]
these paths exist since we are in a length space.
We can assume that each $\gamma_n$ is parametrized proportionally to the arc length;
in particular, $\gamma_n$ are equicontinuous.
Show that paths $\gamma_n$ lie in a closed ball, say $\cBall[p,r]$ of some radius $r<\infty$.
Since the space is proper, $\cBall[p,r]$ is compact.
By the Arzelà--Ascoli theorem, we can pass to a converging subsequence of $\gamma_n$.
Show that its limit is a geodesic path from $p$ to $q$.

\parbf{\ref{ex:menger}.}
Choose a sequence $\eps_n>0$ that converges to zero very fast, say such that $\sum_n10^n\cdot \eps_n$ is small.
Follow the argument in the proof of Menger's lemma, taking $\eps_n$-midpoints at the $n^{\text{th}}$ stage.

\parbf{\ref{ex:k-><mono}.}
Let us write the Riemannian metric on $\MM^2(\kappa)$ in polar coordinates $(\theta,r)$;
it has the form 
$(\begin{smallmatrix}
h^2&0
\\
0&1
\end{smallmatrix})$, where $h=h(\kappa,r)\ge 0$.
Calculate $h(\kappa,r)$.
Show that for fixed $r$, the function $r\mapsto h(\kappa,r)$ is nonincreasing in the domain of definition.
Suppose $\kappa<\Kappa$, consider the partially defined map $\MM^2(\kappa)\to\MM^2(\Kappa)$ that sends a point to the point with the same polar coordinates.
Show that this map is short in the domain of definition.
Use it to prove the statement in the exercise.


\parbf{\ref{ex:angkK}.} Show and use that 
$\angk p{x}{y}_{\SSS^2}-\angk p{x}{y}_{\EE^2}=O(\dist[2]{p}{x}{}+\dist[2]{p}{y}{})$
and 
$\angk p{x}{y}_{\EE^2}-\angk p{x}{y}_{\HH^2}=O(\dist[2]{p}{x}{}+\dist[2]{p}{y}{})$.

\parbf{\ref{ex:undefined-angle}.}
Consider a hinge in the plane $\RR^2$ with a metric defined by norm, say by the $\ell^\infty$-norm.

\parbf{\ref{ex:adjacent-angles}.}
Assume $\mangle\hinge pxz+\mangle\hinge pyz<\pi$.
By \ref{claim:angle-3angle-inq}, $\mangle\hinge pxy<\pi$.
Therefore,
$\angk p{\bar x}{\bar y}<\pi$
for some $\bar x\in \left]px\right]$ and $\bar y\in \left]py\right]$.
Hence 
\[\dist p{\bar x}{}+\dist {\bar y}p{}<\dist {\bar x}{\bar y}{}\]
--- a contradiction.

\parbf{\ref{ex:first-var}.}
Denote by $\alpha$ the arc-length parametrization of $[qp]$ from $q$ to $p$.
Choose $\eps>0$.
Observe that 
\[\dist[2]{\gamma(t)}{\alpha(\tfrac1\eps\cdot t)}{}\le t^2\cdot(1-\tfrac2\eps\cdot\cos\phi+\tfrac1{\eps^2})+o(t^2),\]
where $\phi=\mangle\hinge q p x$.
By the triangle  inequality
\[\dist{p}{\gamma(t)}{}\le \dist{\gamma(t)}{\alpha(\tfrac1\eps\cdot t)}{}+\dist{q}{p}{}-\tfrac1\eps\cdot t.\]
Conclude that
\[\dist{p}{\gamma(t)}{}
\le
\dist{q}{p}{}-t\cdot \cos \phi+\delta(\eps)\cdot t+o(t),\]
where $\delta(\eps)\to 0$ as $\eps\to0$.
The statement follows since $\eps>0$ is arbitrary.

\parbf{\ref{ex:generalized-selection}.}
Since the space is proper, it is separable; 
that is, we can choose an countable everywhere dense set $\{x_1,x_2,\dots\}$.

Let $A_1,A_2,\dots$ be a sequence of closed sets.
Applying the diagonal procedure, we can pass to a subsequence such that for each $i$ the sequence $\distfun_{A_n}x_i$ converges as $n\to\infty$;
denote its limit by $f(x_i)$.

Since $\distfun_{A_n}$ is $1$-Lipschitz for any $n$, we have 
\[|f(x_i)-f(x_j)|\le \dist{x_i}{x_j}{}\]
for all $i$ and $j$.
Suppose $f(x_i)<\infty$ for some $i$, then the same holds for any $i$.
Therefore, the function $f$ can be extended to a continuous function defined on the whole ambient space.
Show that $A_\infty=f^{-1}\{0\}$ is the limit of $A_n$ in the sense of Hausdorff.

If $f(x_i)=\infty$ for some $i$, then the same holds for any $i$.
Show that in this case $A_n\to\emptyset$ in the sense of Hausdorff.

\parbf{\ref{ex:Haus-conv}.}
Apply the definition of Hausdorff distance (\ref{def:hausdorff-convergence}).

\parbf{\ref{ex:geod-closed}.}
Given $x_\infty,y_\infty\in\spc{X}_\infty$, choose $x_n,y_n\in \spc{X}_n$ such that $x_n\to x_\infty$ and $y_n\to y_\infty$.
Let $z_n$ be the midpoint of $[x_ny_n]$.
Since $\spc{X}_\infty$ is proper, we can choose a subsequence of $z_m$ that converges to a point, say $z_\infty\in \spc{X}_\infty$.
Note that $z_\infty$ is a midpoint of $x_\infty$ and $y_\infty$, then apply Menger's lemma (\ref{lem:mid>geod}).

\parbf{\ref{ex:non-contracting-map}.}
Given a pair of points $x_0,y_0\in \spc{K}$, 
consider two sequences $x_0,x_1,\dots$ and $y_0,y_1,\dots$
such that $x_{n+1}=f(x_n)$ and $y_{n+1}\z=f(y_n)$ for each $n$.

Since $\spc{K}$ is compact, 
we can choose an increasing sequence of integers $n_k$
such that both sequences $(x_{n_i})_{i=1}^\infty$ and $(y_{n_i})_{i=1}^\infty$
converge.
In particular, both are Cauchy;
that is,
\[
|x_{n_i}-x_{n_j}|_{\spc{K}}\to 0 
\quad\text{and}\quad
|y_{n_i}-y_{n_j}|_{\spc{K}}\to 0
\]
as $\min\{i,j\}\to\infty$.

Since $f$ is distance-noncontracting, 
\[
|x_0-x_{|n_i-n_j|}|
\le 
|x_{n_i}-x_{n_j}|
\]
for any $i$ and $j$.
Therefore, there is a sequence $m_i\to\infty$ such that
\[
x_{m_i}\to x_0\quad\text{and}\quad y_{m_i}\to y_0
\leqno({*})\]
as $i\to\infty$.

Since $f$ is distance-noncontracting, the sequence $\ell_n=|x_n-y_n|_{\spc{K}}$ is nondecreasing.
By $({*})$,  $\ell_{m_i}\to\ell_0$ as $m_i\to\infty$.
It follows that 
\[\ell_0=\ell_1=\dots\]
In particular, 
\[|x_0-y_0|_{\spc{K}}=\ell_0=\ell_1=|f(x_0)-f(y_0)|_{\spc{K}}\]
for any pair of points $(x_0,y_0)$ in $\spc{K}$.
That is, the map $f$ is distance-preserving; hence $f$ is injective.
From $({*})$, we also get that $f(\spc{K})$ is everywhere dense.
Since $\spc{K}$ is compact $f\:\spc{K}\to \spc{K}$ is surjective --- hence the result.

\parit{Remarks.}
This is a basic lemma in the introduction to Gromov--Hausdorff distance \cite[see 7.3.30 in][]{burago-burago-ivanov}.
The presented proof is not quite standard;
I learned it from Travis Morrison, 
a student in my MASS class at Penn State, Fall 2011.

This exercise implies that \textit{any surjective non-expanding map from a compact metric space to itself is an isometry}.

\parbf{\ref{ex:GH-po}.}
The only-if part is trivial. 
Let us prove the if part.

If $\dist{\spc{X}_n}{\spc{X}_\infty}{\GH}\not\to 0$, then we can pass to a subsequence such that $\dist{\spc{X}_n}{\spc{X}_\infty}{\GH}\ge\eps$ for some $\eps>0$.
Show that we can pass to a subsequence again, so that $\spc{X}_n$ converges in the sense of Gromov--Hausdorff, say to $\spc{Y}$.
Observe that $\spc{Y}\le \spc{X}_\infty$ and $\spc{X}_\infty\le\spc{Y}$.
By \ref{ex:non-contracting-map}, $\spc{Y}\iso \spc{X}_\infty$ --- a contradiction.

\parbf{\ref{ex:compact-GH}.} Show and use that $\dist{\spc{X}_\infty}{\spc{X}_\infty'}{\GH}<\eps$ for any $\eps>0$.



\parbf{\ref{ex:GH-noncompact}}; \ref{SHORT.ex:GH-noncompact:proper}
 Consider the graphs of the following functions with the induced metric from $\RR^2$.
\[
x\mapsto \cos x+\cos \tfrac x\pi
\quad\text{and}\quad
x\mapsto \cos x+\sin \tfrac x\pi.
\]


\parit{\ref{SHORT.ex:GH-noncompact:bounded}}
For every rational number  $q\in[1,2]$ consider an interval of length $q$. Let $\spc{X}$ be obtained by identifying all  initial points of  the intervals to one point and all  end points to another.

Let $\spc{Y}$ be constructed in the same way but skipping the interval of length $1.5$.



\parbf{\ref{ex:Euclid-is-CBB}.}
The 4-point comparison (\ref{def:CBB}) reduces our question to the following.
\textit{Any spherical triangle has perimeter at most $2\cdot\pi$.}
Choose a spherical triangle $[xyz]$.
Let $x'$ be the antipode of $x$; that is $x'=-x$.
The spherical triangle inequality (\ref{claim:angle-3angle-inq} or \ref{ex:angle-triangle}) implies that
\[\dist{x}{z}{\mathbb{S}^2}\le \dist{y}{x'}{\mathbb{S}^2}+\dist{x'}{z}{\mathbb{S}^2}.\]
Observe that 
\[
\dist{x}{y}{\mathbb{S}^2}+\dist{y}{x'}{\mathbb{S}^2}=\pi,
\quad\text{and}\quad
\dist{x}{z}{\mathbb{S}^2}+\dist{z}{x'}{\mathbb{S}^2}=\pi.
\]
Hence
\[\dist{x}{y}{\mathbb{S}^2}+\dist{x}{z}{\mathbb{S}^2}+\dist{y}{z}{\mathbb{S}^2}\le2\cdot \pi.\]

\parbf{\ref{ex:(3+1)-expanding}.} For the only-if part consider the following two cases.

If $\angk p{x_1}{x_2}+\angk p{x_2}{x_3}\ge \pi$, then choose two model triangles $[qy_1y_2]\z=\modtrig(px_1x_2)$ and $[qy_2y_3]=\modtrig(px_2x_y)$ that lie on the opposite sides of $[qy_2]$.
By the comparison, $\dist{y_1}{y_3}{}\ge \dist{x_1}{x_3}{}$.
Therefore the obtained configuration meets all the conditions.

If $\angk p{x_1}{x_2}+\angk p{x_2}{x_3}\ge \pi$, then choose two model triangles $[qy_1y_2]\z=\modtrig(px_1x_2)$
and take $y_3$ on the extension of $[y_1q]$ behind $q$ such that $\dist{q}{y_3}{}=\dist{p}{x_3}{}$.
Then $\mangle \hinge q{y_2}{y_3}\ge \angk p{x_2}{x_3}$, therefore $\dist{y_2}{y_3}{}\ge \dist{x_2}{x_3}{}$.
Further, $\dist{y_2}{y_3}{}=\dist{x_2}{p}{}+\dist{p}{x_3}{} \ge \dist{x_2}{x_3}{}$,
and again, the obtained configuration meets all the conditions.

To prove the if part, choose a configuration $q,y_1,y_2,y_3$ that meets all the conditions and maximize the sum
\[\dist{y_1}{y_2}{}+\dist{y_2}{y_3}{}+\dist{y_3}{y_1}{}.\]
Show that $q$ lies in the solid triangle $y_1y_2y_3$;
in particular 
\[\mangle \hinge q{y_1}{y_2}+\mangle \hinge q{y_2}{y_3}+ \mangle \hinge q{y_3}{y_1}=2\cdot\pi.\]
Moreover, $\dist{q}{y_i}{}=\dist{p}{x_i}{}$ for each $i$.
Applying that increasing the opposite side in a plane triangle increases the corresponding angle, we get 
\[\angk  p{x_1}{x_2}+\angk p{x_2}{x_3}+\angk p{x_3}{x_1}
\le 
2\cdot\pi.
\]

\parbf{\ref{ex:alex-lemma-cat}.}
Consider model triangles $[\tilde p\tilde x\tilde z]=\modtrig(pxz)$ and $[\tilde p\tilde y\tilde z]=\modtrig(pyz)$
that share side $[\tilde p\tilde z]$ and lie on its opposite sides.
Note that 
\begin{align*}
\dist{\tilde x}{\tilde y}{\EE^2}
&\ge \dist{\tilde x}{\tilde y}{\EE^2}+\dist{\tilde x}{\tilde y}{\EE^2}=
\\
&=\dist{x}{z}{\spc{X}}+\dist{z}{y}{\spc{X}}=
\\
&=\dist{x}{y}{\spc{X}},
\end{align*}
where $\spc{X}$ is our metric space.
It remains to apply the monotonicity of angle in a triangle with respect to its opposite side. 


\parbf{\ref{ex:noncreasing}.}
Apply \ref{clm:angle-mono}.

\parbf{\ref{ex:0-angle}.}
Without loss of generality, we can assume that $\dist{p}{x}{}\le \dist{p}{y}{}$.
Choose $\bar x\in [px]$;
let $\bar y\in [px]$ be such that $\dist{p}{\bar x}{}=\dist{p}{\bar y}{}$.
Apply \ref{clm:angle-mono} to show that $\bar x=\bar y$.
Conclude that $[px]\subset [py]$.

\parbf{\ref{ex:pi-angle}.}
Assume that there are two distinct geodesics from $z$ to $x$.
Then we can choose distinct points $p$ and $q$ on these geodesics such that $\dist{z}{p}{}=\dist{z}{q}{}$.
Observe that $\angk zpq>0$.
By the triangle inequality, we get 
\[\dist{x}{p}{}+\dist{p}{y}{}\le \dist{x}{p}{}+\dist{p}{z}{}+\dist{z}{y}{}=\dist{x}{z}{}+\dist{z}{y}{}\]
Observe that $\angk zxy=\pi$.
Therefore $\mangle\hinge zxy=\pi$ for any geodesic $[zx]$.

\parbf{\ref{ex:adjacent-CBB}.}
By \ref{ex:adjacent-angles}, we have
\[\mangle\hinge pxz+\mangle\hinge pyz\ge \pi.\]
Since $z\in \left]xy\right[$ we have 
\[\angk z{\bar x}{\bar y}=\pi\]
for any $\bar x\in \left[xz\right[$ and $\bar y\in \left]zy\right]$.
By comparison, we have that 
\[\angk z{\bar x}{\bar p}+\angk z{\bar p}{\bar y}\le\pi\]
for any $\bar p\in \left]zp\right]$.
Passing to the limit as
$\dist{z}{\bar x}{}\to 0$,
$\dist{z}{\bar y}{}\to 0$, and
$\dist{z}{\bar p}{}\to 0$,
we get the statement.

\parbf{\ref{ex:pxyvw}.} 
Without loss of generality, we can assume that $x$, $v$, $w$, and $y$ appear on 
$[xy]$ in this order.
By \ref{clm:angle-mono},
\[
\angk xyp\ge \angk xwp \ge\angk xvp.
\]
Hence, $\Rightarrow$ follows.

By Alexandrov's lemma,
\begin{align*}
\angk xyp=\angk xvp
\quad&\Longleftrightarrow\quad
\angk yxp=\angk yvp,
\\
\angk xyp=\angk xwp
\quad&\Longleftrightarrow\quad
\angk yxp=\angk ywp.
\end{align*}
Whence, $\Leftarrow$ follows.

\parbf{\ref{ex:angle-lim}.} Suppose $\mangle \hinge {x_\infty}{y_\infty}{z_\infty}>\alpha$.
Then we can choose $\bar y_\infty\in\left]x_\infty y_\infty\right]$
and $\bar z_\infty\in\left]x_\infty z_\infty\right]$ such that 
$\angk{x_\infty}{\bar y_\infty}{\bar z_\infty}>\alpha$.
Now choose $\bar y_n\in\left]x_n y_n\right]$ and $\bar y_n\in\left]x_n z_n\right]$ such that $\bar y_n\to \bar y_\infty$ and $\bar z_n\to \bar z_\infty$.
Observe that 
\[\liminf_{n\to\infty}\mangle \hinge {x_n}{y_n}{z_n}\ge\liminf_{n\to\infty}\angk{x_n}{\bar y_n}{\bar z_n} \ge \alpha,\]
hence the result.

\parbf{\ref{ex:urysohn}.}
The Urysohn space provides an example;
see for example \cite[Lecture 2]{petrunin2023pure}.

\parbf{\ref{ex:normCBB}.}
Choose a triangle $[0vw]$.
Note that $m=\tfrac12(v+w)$ is the midpoint of $[vw]$.

Use comparison, to show that
\[2\cdot |\tfrac12(v+w)|^2+2\cdot |\tfrac12(v-w)|^2\ge |v|^2+|w|^2.\]

Note this inequality implies the opposite one;
it follows if we rewrite it via $x=\tfrac12(v+w)$ and $y=\tfrac12(v-w)$.
Hence we have 
\[2\cdot |\tfrac12(v+w)|^2+2\cdot |\tfrac12(v-w)|^2= |v|^2+|w|^2\]
for any $v,w$.
That is, the norm is quadratic and the statement follows.

\parbf{\ref{ex:alm-min}.}
Suppose such a point does not exist;
that is, for any $p\in \spc{X}$ there is a point $p'$ such that $r(p')\le  (1-\eps)\cdot r(p)$ and $\dist p{p'}{}<\tfrac{1}{\eps}\cdot r(p)$.
Construct a sequence of points $p_0,p_1,\dots$ such that $p_n=p_{n-1}'$ for any~$n$.
Show that this sequence is Cauchy; denote its limit by $p_\infty$.
Arrive at a contradiction by showing that $r(p_\infty)\le0$.

\parbf{\ref{ex:CBB(1)notitCBB(0)}.}
The space $\spc{X}$ has no defined sphericlal model angles;
therefore it has curvature $\ge 1$.

However, $\spc{X}$ does not have curvature $\ge 0$ since
\[\angk  p{x_1}{x_2}_{\EE^2}=\angk  p{x_2}{x_3}_{\EE^2}=\angk  p{x_1}{x_3}_{\EE^2}=\pi.\]

\parbf{\ref{ex:RisCBB(1)}.}
Suppose $\mangle\hinge mxp\ne 0$ and $\mangle\hinge mxp\ne\pi$, or equivalently $\mangle\hinge mxq\ne0$.

We can assume that $\dist pq{}$ only slightly exceeds $\pi$,
so $\dist pm{}<\pi$ and $\dist qm{}<\pi$.
We can also assume that $\dist xm{}<\pi$.
Use the comparison to show that 
\[\dist px{}+\dist qx{} < \dist pq,\]
and arrive at a contradiction with the triangle inequality.

Extend $[pq]$ to a maximal local geodesic $\gamma$.
It might be a closed or a line segment.
Argue as above to show that any point lies on $\gamma$ and make a conclusion.

\parbf{\ref{ex:perim-k>0}.}
Arguing by contradiction, suppose 
\[\dist{p}{q}{}+\dist{q}{r}{}+\dist{r}{p}{}> 2\cdot\pi\eqlbl{eq:perimeter-of-triange<2pi}\] 
for $p,q,r\in \spc{A}$. 
Rescaling the space slightly, we can assume that $\diam\spc{A}<\pi$,
but the inequality \ref{eq:perimeter-of-triange<2pi} still holds.
By \ref{clm:K>k},
after rescaling $\spc{A}$ is still $\Alex1$.

Take $z_0\in [q r]$ on maximal distance from $p$.
Consider the following model configuration:
two geodesics $[\tilde p\tilde z_0]$, $[\tilde q\tilde r]$ in $\mathbb{S}^2$ such that 
\begin{align*}
\dist{\tilde p}{\tilde z_0}{}&=\dist{p}{z_0}{},
&  
\dist{\tilde q}{\tilde r}{}&=\dist{q}{r}{},
\\ 
\dist{\tilde z_0}{\tilde q}{}&=\dist{z_0}{q}{},
&  
\dist{\tilde z_0}{\tilde r}{}&=\dist{z_0}{q}{},
\end{align*}
and 
\[\mangle\hinge{\tilde z_0}{\tilde q}{\tilde p}
=\mangle\hinge{\tilde z_0}{\tilde r}{\tilde p}
=\tfrac\pi2.\]

Let $\tilde z\in [\tilde q\tilde r]$,
and let $z\in [q r]$ be the corresponding point.
By comparison, $\dist pz{}\le\dist {\tilde p}{\tilde z}{}$ for points $z$ near $z_0$.
Moreover, this inequality holds as far as 
\[\dist{\tilde p}{\tilde z_0}{}+\dist{\tilde z_0}{\tilde z}{}+\dist{\tilde p}{\tilde z}{}<2\cdot\pi.\]
But this inequality holds for all $\tilde z$ since  $\dist{\tilde p}{\tilde z_0}{}<\pi$, $\dist{\tilde z_0}{\tilde q}{}<\pi$, and $\dist{\tilde z_0}{\tilde r}{}<\pi$.
Hence we get $\dist pq{}\le\dist {\tilde p}{\tilde q}{}$ and $\dist pr{}\le\dist {\tilde p}{\tilde r}{}$.
The latter contradicts \ref{eq:perimeter-of-triange<2pi}.

\parbf{\ref{ex:dir-compact}.}
Suppose $\dir p{x_n}\not\to\dir p{x_\infty}$.
Since $\Sigma_p$ is compact, we may pass to a converging subsequence of $\dir p{x_n}$;
denote by $\xi$ its limit.
We may assume that $\mangle (\dir p{x_\infty},\xi)>0$.

Denote by $\gamma_n$ and $\gamma_\infty$ the arc-length parametrization of $[px_n]$ and $[px_\infty]$ from $p$.
Choose a geodesic $\alpha$ that starts from $p$ and goes in a direction sufficiently close to $\xi$.
By comparison we can choose $\alpha$ so that
\[\dist{\alpha(t)}{\gamma_n(t)}{}<\eps\cdot t\]
for all large $n$ and all sufficiently small $t$.
Moreover, we can assume that
\[\dist{\alpha(t)}{\gamma_\infty(t)}{}>a\cdot t\]
for some fixed $a>0$ and all small $t$.
These two inequalities imply 
that 
\[\dist{\gamma_n(t)}{\gamma_\infty(t)}{}>\tfrac a2\cdot t\]
for all small $t$ and all large $n$.
On the other hand, by assumption, $\dist{\gamma_n(t)}{\gamma_\infty(t)}{}\to0$ as $n\to\infty$ --- a contradiction.

\parit{Comments.}
The compactness of $\Sigma_p$ is necessary.
A counterexample with noncompact  $\Sigma_p$ can be built using iterated warped product of line segments and applying \cite[Theorem 1.2]{alexander-bishop2004}.
The space $\spc{A}$ can be assumed to be compact.


\parbf{\ref{ex:geodesic-cone}.}
Any point of $\Cone \spc{X}$ can be connected to the origin by a geodesic.
Given a nonzero element $v\in\Cone \spc{X}$, denote by $v'$ its projection in $\spc{X}$.

Suppose $\spc{X}$ is $\pi$-geodesic.
Choose two nonzero elements $v,w\z\in\Cone \spc{X}$; let $\alpha=\mangle(v,w)=\dist{v'}{w'}{\spc{X}}$.
If $\alpha\ge \pi$, then the product of geodesics $[v0]\cup [0w]$ forms a geodesic $[vw]$.
If $\alpha<\pi$, there is a geodesic $\gamma\:[0,\alpha]\to \spc{X}$ from $v'$ to $w'$.
Consider hinge $\hinge {\tilde o}{\tilde v}{\tilde w}$ in the plane 
such that $\mangle\hinge {\tilde o}{\tilde v}{\tilde w}=\alpha$, $\dist{\tilde o}{\tilde v}{}=|v|$, and $\dist{\tilde o}{\tilde w}{}=|w|$.
Let $t\mapsto (\phi(t),r(t))$ be geodesic $[\tilde v\tilde w]$ written in polar coordinates with origin $\tilde o$, so that $\phi(0)=0$.
Show that $t\mapsto r(t)\cdot\gamma\circ\phi(t)$ is a geodesic from $v$ to $w$;
here we identify $\spc{X}$ with the unit sphere in $\Cone \spc{X}$.

To prove the converse, try to reverse the steps in the argument above.

\parbf{\ref{ex:GHto-tangent}.}
Let  $\spc{A}_n=\lambda_n\cdot\spc{A}$.
Note that for any $n$ the space $\Sigma_p\spc{A}$ is identical to $\Sigma_{\iota_n(p)} \spc{A}_n$.
In particular, we can identify isometrically $\T_p\spc{A}$ with $\T_{\iota_n(p)}(\lambda\cdot \spc{A})$.
So for any geodesic $\gamma$ that starts at $p$, the vector $\gamma^+(0)$ corresponds to $\frac{1}{\lambda}\cdot(\iota_n\circ\gamma)^+(0))$.

Consider the logarithm maps $f_n=\log_{\iota_n(p)}\:\spc{A}_n\to T_p\spc{A}$.
We claim that this sequence of maps satisfies the assumptions of Lemma~\ref{lem:almost-isom-pointed};
the condition in \ref{SHORT.lem:almost-isom-pointed-basepoint} is evident.  

It is sufficient to check the conditions in \ref{SHORT.lem:almost-isom-pointed-b} and \ref{SHORT.lem:almost-isom-pointed-c} only for $R=1$. 

Choose $\eps>0$.
By compactness of $\Sigma_p$ we can find a finite $\eps$-net $\xi_1,\dots,\xi_N$ in $\Sigma_p$. Moreover, without loss of generality we can assume that these directions are geodesic;
that is, there exist geodesics $\gamma_1,\ldots, \gamma_N$ starting at $p$ such that $\xi_i=\gamma_i^+(0)$ for each $i$.

Choose $T>0$ such that all $\gamma_i$ are defined on $[0,T]$.
Show that for any $\lambda_n>\frac{1}{T}$ the image under $f_n$ of the union $\bigcup_N\gamma_i([0,T])$ is an $\eps$-net in $\oBall(0,1)_{T_p}$.
This proves \ref{SHORT.lem:almost-isom-pointed-c}.

By comparison, we have that
\[\dist{\xi_i}{\xi_j}{\Sigma_p}\ge \angk p{\gamma_i(t_i)}{\gamma_j(t_j)}\]
for all $i\ne j$ and any $t_i,t_j\in (0,T]$.
By the definition of an angle, we can assume that $T$ has been chosen so that in addition 
\[\dist{\xi_i}{\xi_j}{\Sigma_p}\le \angk p{\gamma_i(t)}{\gamma_j(t)}+\eps\]
for all $i\ne j$ and any $t\in (0,T]$.

By construction of the map $f_n$ this implies that 
\[|\dist{x}{x'}{\spc{A}_n}-\dist{f_n(x)}{f_n(x')}{T_p}|<\eps\]
for all $\lambda_n>\frac{1}{T}$ and all points $x,x'$ in $\bigcup_N\gamma_i([0,\frac{1}{\lambda_n}])\subset \oBall(p,1)_{\spc{A}_n}$.
  
Now hinge comparison and the triangle inequality imply that the same  holds for arbitrary points $x,x'$  in  $\oBall(p,1)_{\spc{A}_n}$ with $\eps$ replaced by $3\eps$.
This verifies \ref{SHORT.lem:almost-isom-pointed-b}.

\parbf{\ref{ex:distfun-semiconcave}.} From \ref{comp-kappa}, this inequality follows in the sense of distributions, and hence in any other sense.

\parbf{\ref{ex:df(xi)}.}
Since angles are defined, it follows that 
\[\dist{\gamma_1(t)}{\gamma_2(t)}{}\le \theta\cdot t\]
for all small $t>0$.     
Since $f$ is $L$-Lipschitz, we get 
\[|f(\gamma_1(t))-f(\gamma_2(t))|\le L\cdot \theta\cdot t,\]
hence the statement.

\parbf{\ref{ex:d(distfun)}}; \ref{SHORT.ex:d(distfun):<}
Note that we can assume there is a geodesic in the direction of $v$, and apply \ref{ex:first-var}.

\parit{\ref{SHORT.ex:d(distfun):=}.}
By \ref{SHORT.ex:d(distfun):<}, $\dd_p\distfun_q(v)\le-\max_{\xi\in\Uparrow_p^q}\langle\xi,v\rangle$.
Suppose this inequality is strict for some $v$.
We can assume that $|v|=1$ and there is a geodesic, say $\gamma$ in the direction of $v$.
Let $\dd_p\distfun_q(v)=-\cos\alpha_0$ for some $\alpha\in [0,\pi]$.
Note that any geodesic from $p$ to $q$ makes angle bigger than $\alpha_0$ with $\gamma$.


The function $f=\distfun_q\circ\gamma$ is Lipschitz.
By Rademacher's theorem it is differentiable almost everywhere;
moreover, 
\[f(t)-f(0)=\int_0^t f'(t)\cdot dt.\]
Suppose $f'(t)$ is defined.
Use \ref{SHORT.ex:d(distfun):<} to show that 
$f'(t)=-\cos\alpha(t)$, where $\alpha(t)$ is the angle between $\gamma$ and any geodesic from $\gamma(t)$ to $q$.
We can choose a sequence $t_n\to 0$ such that 
\[\lim_{n\to\infty}\alpha(t_n) \le \alpha_0.\]
Consider a sequence of geodsics $[p\,\gamma(t_n)]$.
Since the space is proper, we can pass to its convergent subsequence.
Its limit is a geodesic from $p$ to $q$, denote it by $[pq]$.

Use \ref{ex:angle-lim} to show that $[pq]$ makes an angle at most $\alpha_0$ with $\gamma$ --- a contradiction.
 
\parbf{\ref{ex:monotonicity}.}
Let $\gamma\:[0,\ell]\to \spc{A}$ be the geodesic $[xy]$ parametrized from $x$ to $y$,
and let $\phi=f\circ\gamma$.
Observe that 
\[\phi'(0)=\dd_xf(\dir xy)\le \<\dir{x}{y},\nabla_{x}f\>.\]
The same way we get $-\phi'(\ell)\le \<\dir{y}{x},\nabla_{y}f\>$.
Since $f$ is $\lambda$-concave, we have
\begin{align*}
f(y)&\le f(x)+\phi'(0)\cdot \ell+\tfrac\lambda2\cdot\ell^2,
\\
f(x)&\le f(y)-\phi'(\ell)\cdot \ell+\tfrac\lambda2\cdot\ell^2.
\end{align*}
Hence the statement follows.

\parbf{\ref{ex:d(distfun):==}.}
If the space is proper, then the statement follows from \ref{SHORT.ex:d(distfun):=} and \ref{ex:pi-angle}.

To do the general case argue by contradiction.
Let $z$ be a point on the extension of $[pq]$ behind $q$;
it exists by the assumption.
We can assume that $|v|=1$ and it is a direction of a geodesic, say $[px]$.

Show that for there is a sequence $x_n\in \left]px\right]$ such that $\dist{p}{x_n}{}\to0$ ad
$\mangle \hinge q{x_n}p>\eps$ for each $n$ and some fixed $\eps>0$.
Observe that $\mangle\hinge q{x_n}z\z<\pi-\eps$; therefore
\[\dist{z}{x_n}{}<\dist{x_n}{q}{}+\dist{q}z{}-\delta\]
for each $n$ and some fixed $\delta>0$.
Pass to the limit as $x_n\to p$ and arrive at a contradiction.

\parbf{\ref{ex:convergence-grad}.}
Note that
$|(\dd_p f)(v)-(\dd_p g)(v)|\le s\cdot|v|$
for any $v\in \T_p$.
From the definition of gradient (\ref{def:grad}) we have:
\begin{align*}
&(\dd_p f)(\nabla_p g)\le\<\nabla_p f,\nabla_p g\>,
&&(\dd_p g)(\nabla_p f)\le\<\nabla_p f,\nabla_p g\>,
\\
&(\dd_p f)(\nabla_p f)=\<\nabla_p f,\nabla_p f\>,
&&(\dd_p g)(\nabla_p g)=\<\nabla_p g,\nabla_p g\>.
\end{align*}
Therefore,
\begin{align*}
&\dist[2]{\nabla_pf}{\nabla_pg}{}
=\<\nabla_p f,\nabla_p f\>+\<\nabla_p g,\nabla_p g\>-2\cdot\<\nabla_p f,\nabla_p g\>
\le
\\
&\le (\dd_p f)(\nabla_p f)+(\dd_p g)(\nabla_p g)-
(\dd_p f)(\nabla_p g)-(\dd_p g)(\nabla_p f)
\le
\\
&\le s\cdot(|\nabla_p f|+|\nabla_p g|).
\end{align*}

\parbf{\ref{ex:semicontinuous-grad}.}
Suppose $|\nabla_xf|> s$.
Then we can choose a geodesic $\gamma$ that starts at $x$ such that 
$(f\circ\gamma)^+(0)>s$.
In particular, there is $\eps>0$ such that
\[f\circ\gamma(t)>(s+\eps)\cdot t+o(t),\]
hence the only-if part follows.

Now suppose $f(y)-f(x)>s\cdot \ell+\lambda\cdot \tfrac{\ell^2}2$,
were $\ell=\dist{x}{y}{}$.
Let $\gamma\:[0,\ell]\to \spc{A}$ be a geodesic from $x$ to $y$.
Since $f\circ\gamma$ is $\lambda$-concave, we have
\[f\circ\gamma(\ell)\le f\circ\gamma(0)+(f\circ\gamma)^+(0)\cdot\ell+\lambda\cdot \tfrac{\ell^2}2.\]
It follows that 
\[\dd_x(\dir xy)=(f\circ\gamma)^+(0)>s,\]
and by \ref{prop:grad-exist}, $|\nabla_x f|>s$.

\parbf{\ref{ex:elf-contracting}.}
Note that $f\circ\alpha$ is a nondecreasing function.
Apply \ref{ex:d(distfun):<} and the definition of gradient to show that
\[
-\dd_{\alpha(t)}\distfun_{\alpha(t_3)}(\nabla_{\alpha(t)}f)
\ge
\langle \nabla_{\alpha(t)},\dir{\alpha(t)}{\alpha(t_3)}\rangle
\ge
\dd_{\alpha(t)}(\dir{\alpha(t)}{\alpha(t_3)})
\ge0
\]
for any $t<t_3$.
Conclude that the function 
$t\mapsto \distfun_{\alpha(t_3)}\circ\alpha(t)$ is noncreasing for $t\le t_3$.

\parbf{\ref{ex:mayer}.}
For any $s>s_0$,
\begin{align*}
(f\circ\hat\alpha)^+(s_0)&=|\nabla_{\hat\alpha(s_0)}f|
\ge
\\
&\ge
(d_{\hat\alpha(s_0)}f)(\dir{\hat\alpha(s_0)}{\hat\alpha(s)})
\ge
\\
&\ge
\frac{f\circ\hat\alpha(s)-f\circ\hat\alpha(s_0)}{\dist{\hat\alpha(s)}{\hat\alpha(s_0)}{}}.
\end{align*} 
Since $s-s_0\ge\dist{\hat\alpha(s)}{\hat\alpha(s_0)}{}$, for any $s>s_0$ we have 
\[(f\circ\hat\alpha)^+(s_0)\ge
\frac{f\circ\hat\alpha(s)-f\circ\hat\alpha(s_0)}{s-s_0}.\]

\parbf{\ref{lem:fg-dist-est}.}
Fix $t$, and let $p=\alpha(t)$ and $q=\beta(t)$.
Apply \ref{eq:fist-var-inq+} to get
\begin{align*}
 \ell^+
&\le -\<\dir{p}{q},\nabla_{p}f\>
-\<\dir{q}{p},\nabla_{q}g\>
\le
\\
&\le -{\left({f(q)}-{f(p)}-\lambda\cdot\tfrac{\ell^2}2\right)}/{\ell}
-{\left({g(p)}-{g(q)}-\lambda\cdot\tfrac{\ell^2}2\right)}/{\ell}\le
\\
&\le \lambda\cdot\ell+\tfrac{2\cdot\eps}{\ell}.
\end{align*}
Integrating this inequality, we get the second statement.

\parbf{\ref{ex:short-onto}.}
Choose a point $p\in M$.
Observe that $\gexp_p^1$ provides a short map from the unit hemisphere $\SSS_+^m$ to $\diam (M,g)$.
Composing this map with the quotient map $\SSS^m\to \SSS_+^m$ brings us a short map $s\:\SSS^m\to\diam (M,g)$.

Since $M$ is not homeomorphic to the sphere,
the diameter sphere theorem, $\diam (M,g)\le \tfrac\pi2$.
Hence, the map $s$ is onto.

\parbf{\ref{ex:busemann-CBB}.} Apply \ref{ex:distfun-semiconcave}.

\parbf{\ref{ex:bus+bus}.} By the triangle inequality, 
\[\dist{\gamma(-t)}{x}{}+\dist{\gamma(t)}{x}{}-2\cdot t\ge 0\]
for any $t\ge 0$.
Passing to the limit as $t\to\infty$, we get the result.

\parbf{\ref{ex:cone-CBB}.}
Suppose $\Cone\spc{X}$ is $\Alex0$.
Observe that two half-lines in $\Cone\spc{X}$ that start from the origin and go into directions $x$ and $y\in\spc{X}$ form a line if and only if $\dist{x}{y}{\spc{X}}\ge \pi$.
Apply the splitting theorem to show that for any $x\in \spc{X}$ there is at most one point $y$ such that $\dist{x}{y}{\spc{X}}\ge \pi$ and in this case we have equality.
Conclude that $\diam \spc{X}\z\le \pi$.

Now choose a quadruple of points $p,x_1,x_2,x_3\in \spc{X}$;
we will identify $\spc{X}$ with the unit sphere in $\Cone\spc{X}$.
Suppose $\dist{p}{x_i}{}<\tfrac\pi2$ for any $i$.
Consider the following points in the cone: $y_i=\tfrac1{\cos \dist{p}{x_i}{\spc{X}}}\cdot x_i$, and $q=p$.
Show that $\EE^2$-comparison for $q,y_1,y_2,y_3$ in $\Cone\spc{X}$ implies $\SSS^2$-comparsion for $p,x_1,x_2,x_3$ in $\spc{X}$.
Conclude that $\spc{X}$ is locally $\Alex1$. 
Apply the globalization theorem (\ref{thm:globalization+}).

Now assume $\spc{X}$ is $\Alex1$ and $\diam\spc{X}\le \pi$.
By \ref{ex:perim-k>0}, the perimeter of any triangle in $\spc{X}$ is at most $2\cdot\pi$.
We need to check $\EE^2$-comparison for a given quadruple of points $q,y_1,y_2,y_3$ in $\Cone\spc{X}$.
We can assume that none of these points is the origin; otherwise perturb them a bit.

Set $x_i=y_i/|y_i|$ for each $i$ and $p=q/|q|$; we can assume that $p,x_1,x_2,x_3$ are distinct in $\spc{X}$, which is the unit sphere in $\Cone\spc{X}$.

Assume the model triangles $\modtrig(px_1x_2)$, $\modtrig(px_2x_3)$, and $\modtrig(px_3x_1)$ are defined;
that is, perimeters triangles $[px_1x_2]$, $[px_2x_3]$, and $[px_3x_1]$ are strictly less than $2\cdot\pi$. 
Note that $\EE^3\iso\Cone\SSS^2$.
Use this together with the $\SSS^2$-comparison for $p,x_1,x_2,x_3$ in $\spc{X}$ to show that $\EE^2$-comparison holds for $q,y_1,y_2,y_3$ in $\Cone\spc{X}$.

Finally, if some of the model triangles are not defined, consider rescaling of $\spc{X}$ with a coefficient $\lambda$ slightly smaller than 1.
Apply the argument above to show that the comparison holds for the corresponding points in $\Cone(\lambda\cdot\spc{X})$ and pass to the limit as $\lambda\to 1$.

\parit{Comment.}
The last part of the proof is close to the argument in \ref{thm:CBB-closed}.

\parbf{\ref{ex:|antisum|}.}
Observe that
\begin{align*}
\langle u,u\rangle+\langle v,u\rangle+\langle w,u\rangle &\ge 0,
\\
\langle u,v\rangle+\langle v,v\rangle+\langle w,v\rangle &\ge 0,
\\
\langle u,w\rangle+\langle v,w\rangle+\langle w,w\rangle &= 0.
\end{align*}
Add the first two inequalities and subtract the last identity.

\parbf{\ref{prop:two-opp}.}
Apply \ref{prop:opposite} to show that 
$\langle v,v\rangle =\langle v,w\rangle=\langle w,w\rangle$,
and use it.

\parbf{\ref{ex:3<,>=0}.} Show and use that
\[\langle u,x\rangle +\langle v,x\rangle +\langle w,x\rangle \ge 0\]
and
\[\langle u,-x\rangle +\langle v,-x\rangle +\langle w,-x\rangle \ge 0.\]

\parbf{\ref{ex:-u}.} Part $\Rightarrow$ is evident.
To prove part $\Leftarrow$, observe that 
\[\langle u^*,u^*\rangle =-\langle u,u^*\rangle\le \langle u,u\rangle\]
and since $|u|=|u^*|$, we have equality.

\parbf{\ref{ex:grad-dist}.}
Apply \ref{ex:-u}.

\parbf{\ref{ex:tangent=Em}.}
By \ref{ex:diam-compact:proper}, $\spc{A}$ is \emph{separable}; that is, it contains a countable dense set of points.
Apply \ref{cor:euclid-subcone} to this set.

\parbf{\ref{ex:dim=1}.} Argue as in \ref{ex:RisCBB(1)}.

\parbf{\ref{ex:resporka}.} The only-if part is trivial.
Suppose the configuration $p$, $a_0,\z\dots, a_{m}\in \spc{A}$ meets the condition.
By \ref{ex:grad-dist} the directions $\dir q{a_0},\z\dots,\dir q{a_m}\in \Lin_q$ for G-delta dense set of points $q\in \spc{A}$.
If $q$ is sufficiently close to $p$, then $\angk q{a_i}{a_j}>\tfrac\pi2$,
and therefore, $\mangle\hinge q{a_i}{a_j}>\tfrac\pi2$ for $i\ne j$.
Conclude that $\dim\Lin_q\ge m$ in this case. To see this show and use that given $m+1$ vectors in $\RR^k$ making pairwise obtuse angles with each other any $m$ of them must be linearly independent.

\parbf{\ref{ex:finite-tan}}; 
\ref{SHORT.ex:finite-tan:tan}. Apply \ref{ex:geodesic-cone}, \ref{prop:Tan-is-CBB(0)}, and \ref{thm:finite-space-of-directions}.

\parit{\ref{SHORT.ex:finite-space-of-directions-dim}.}
Apply \ref{ex:resporka} to show that $\LinDim\T_p=\LinDim\spc{A}$ (argue as in \ref{prop:Tan-is-CBB(0)}).

\parit{\ref{SHORT.ex:finite-tan:sigma}.}
By \ref{thm:finite-space-of-directions} for any two points $\xi,\zeta\in\Sigma_p$ such that $\dist{\xi}{\zeta}{\Sigma_p}<\pi$ there is a geodesic $[\xi\zeta]_{\Sigma_p}$.
Suppose $\dist{\xi}{\zeta}{\Sigma_p}\ge\pi$, then $\T_p$ contains a line thru the origin in the directions $\xi$ and $\zeta$.
By \ref{SHORT.ex:finite-tan:tan} we can apply the splitting theorem (\ref{thm:splitting}) to $\T_p$.
We get that $\Sigma_p$ is a spherical suspension with poles $\xi$ and $\zeta$.
Hence, $\dist\xi\zeta{}=\pi$ and there is a geodesic $[\xi\zeta]$.


\parbf{\ref{ex:proof-right-inverse}}; \ref{SHORT.ex:proof-right-inverse:grad}.
By \ref{ex:distfun-semiconcave}, each function $\distfun_{a_i}$ is semiconcave in a small neighborhood of $p$.
Therefore we can choose $\lambda$ and $r>0$ so that $f_{\bm{y}}$ is $\lambda$-concave in $\oBall(p,r)$; further we will assume that $r$ is sufficiently small.
Choose $\alpha>0$ such that $\angk{x}{a_i}{a_j}>\tfrac\pi2+\alpha$ for all $i\ne j$;
we may assume that $\alpha<\tfrac{1}{10}$;
in particular,
\[(\dd_x\distfun_{a_j}{}{})(\dir{x}{a_i})
\ge
-\cos\angk{x}{a_i}{a_j}
>
\tfrac\alpha2\eqlbl{inq-a_j}\]
for $j\ne i$.

By the definition of gradient and \ref{ex:d(distfun):<}, we have
\begin{align*}
-(\dd_x\distfun_{a_i}{}{})(\nabla_x f_{\bm{y}})
&\ge
\<\dir x{a_i},\nabla_x f_{\bm{y}}\>
\ge
\\
&\ge
(\dd_xf_{\bm{y}})(\dir x{a_i}).
\end{align*}
If $\dist{a_i}{x}{}>y_i$, then 
\[\dd_xf_{\bm{y}}=\sigma+\eps\cdot \dd_x\distfun_{a_0},\]
where $\sigma$ is a minimum of a subset of the following functions
$0$, and $\dd_x\distfun_{a_j}$ for $0\ne j\ne i$.
By \ref{inq-a_j}, 
\[(\dd_x\distfun_{a_i}{}{})(\nabla_x f_{\bm{y}})< -\tfrac\alpha2\cdot\eps.\]
Hence (\ref{111}) holds for all sufficiently small $\eps>0$.

Now assume that $\dist{a_i}{x}{}-y_i=\min_j\{\dist{a_j}{x}{}\z-y_j\}<0$.
Then
\begin{align*}
\dd_x f_{\bm{y}}
&=
\min_{i\in S} \{\,\dd_x\distfun_{a_j}\,\}+\eps\cdot \dd_x\distfun_{a_0}
\le
\\
&\le
\dd_x \distfun_{a_i}{}{}+\eps\cdot(\dd_p\distfun_{a_0}{}{}),
\end{align*}
where $j\in S$ if and only if $\dist{a_i}{x}{}-y_i=\dist{a_j}{x}{}-y_j$.
Applying \ref{inq-a_j}, we get
\begin{align*}
(\dd_x \distfun_{a_i}{}{})(\nabla_x f_{\bm{y}})
&\ge 
\dd_xf_{\bm{y}}(\nabla_x f_{\bm{y}}) -\eps\cdot(\dd_x \distfun_{a_0}{}{})(\nabla_x f_{\bm{y}}) 
\ge 
\\
&\ge
\left[(\dd_xf_{\bm{y}})(\dir x{a_0})\right]^2-2\cdot \eps
\ge
\\
&\ge
\left[\tfrac\alpha2-\eps\right]^2-2\cdot \eps.
\end{align*}
Thus, (\ref{222}) holds for all sufficiently small $\eps>0$. 

\parit{\ref{SHORT.ex:proof-right-inverse:alpha}}
Consider the following real-to-real functions:
\[\begin{aligned}
\phi(t)
&\df
\max_{i}\{\dist{a_i}{\alpha_{\bm{y}}(t)}{}-y_i\},
\\
\psi(t)
&\df
\min_{i}\{\dist{a_i}{\alpha_{\bm{y}}(t)}{}-y_i\}.
\end{aligned}\eqlbl{eq:xy-def}\]
Use \ref{SHORT.ex:proof-right-inverse:grad}, to show that for $t\in[0,t_0]$, we have $\phi^+(t)<-\tfrac{1}{10}\cdot\eps^2$ if $\phi(t)>0$
and $\psi^+(t)>\tfrac{1}{10}\cdot\eps^2$ if $\psi(t)<0$.
Conclude that $\phi(t_0)=\psi(t_0)=0$; hence the result.

\parit{\ref{SHORT.ex:proof-right-inverse:end}}
A straightforward application of \ref{lem:fg-dist-est} and a reformulation of \ref{SHORT.ex:proof-right-inverse:alpha}.

\parit{Remarks.}
By \ref{lem:fg-dist-est}, that the constructed map $\map$ is bi-Hölder with the exponent $\tfrac12$.
In particular, if an infinite-dimensional Alexandrov space $\spc{A}$ contains a bi-Hölder copy of Euclidean ball of arbitrary dimension.
It seems plausible that $\spc{A}$ should contain a bi-Lipschitz copy of Euclidean ball of arbitrary dimension,
but this question is open.


\parbf{\ref{ex:proof-dist-chart}.}
Apply the (\textit{n}+1)-comparison (\ref{thm:n+1}) to show that at least one of the inequalities
\[
\mangle\hinge xy{a_0}<\tfrac\pi2-\eps,\ \dots,\  \mangle\hinge xy{a_m}<\tfrac\pi2-\eps,
\]
holds.
Similarty, we get that at least one of the inequalities
\[
\mangle\hinge yx{a_0}<\tfrac\pi2-\eps,\ \dots,\  \mangle\hinge yx{a_m}<\tfrac\pi2-\eps,
\]
holds.

Suppose our statement does not hold for $x$ and $y$ in a sufficiently small neighborhood of $p$.
It follows that 
\[\mangle\hinge yx{a_0}<\tfrac\pi2-\eps
\quad\text{and}\quad
\mangle\hinge yx{a_0}<\tfrac\pi2-\eps.
\eqlbl{eq:a0}
\]
Note that $\dist{x}{y}{}$ is small compared to $\dist{a_0}{x}{}$ and $\dist{a_0}{y}{}$.
Therefore, the comparison contradicts \ref{eq:a0}. 

By the construction, $f$ is Lipschitz.
From above, we can choose $i>0$ so that $\mangle\hinge xy{a_i}<\tfrac\pi2-\eps$ (if $\mangle\hinge yx{a_i}<\tfrac\pi2-\eps$, then swap $x$ and $y$).
By comparison, there is $c>0$ such that $\dist{a_i}{y}{}\le \dist{a_i}{x}{}+c\cdot \dist{x}{y}{}$.
Hence $f$ is bi-Lipschitz, and now \ref{thm:right-inverse} implies \ref{thm:dist-chart}.


 
\parbf{\ref{ex:diam-compact:proper}.}
Reuse the argument from  the first part of the proof of Bishop--Gromov inequality.

\parbf{\ref{ex:BG}.} 
You should follow the proof Bishop--Gromov inequality, plus prove the following two inequalities 
\begin{align*}
\sinh r_2\cdot \dist{\log_p x}{\log_p y}{\T_p} &\ge\dist{x}{y}{\spc{A}}
\\
\sinh r_2\cdot\dist{w(x)}{w(y)}{\spc{A}} &\ge \sinh r_1\cdot\dist{x}{y}{\spc{A}}
\end{align*}
for any $x,y\in\oBall(p,r)$.

\parbf{\ref{ex:dim=dim}.} 
Suppose $K$ is a compact set in $\spc{A}$ such that $\HausDim K\ge m$.
Use the map $w$ from the proof of the Bishop--Gromov inequality (\ref{inq:BG} and \ref{ex:BG}) to show that any open ball in $\spc{A}$ contains a compact set $K'$ such that $\HausDim K'\ge m$.

Use this in addition to the arguments in \ref{thm:dim=dim}. 

\parbf{\ref{ex:dim-lim}.}
Apply \ref{ex:resporka}.

\parbf{\ref{ex:net}};
\ref{SHORT.ex:net:finite}.
Suppose $X$ is compact.
Then for any $\eps>0$ any cover of $X$ by open $\eps$-balls have a finite subcover.
Note that the centers of these balls is an $\eps$-net of $X$.

Suppose $X$ has a finite $\eps$-net.
Show that any sequence $x_n$ of points in $X$ has a subsequence such that all of its points lie in one $\eps$-ball.
Apply this statement for $\eps=\tfrac1n$ together with the diagonal procedure.

\parit{\ref{SHORT.ex:net:compact}.}
Let $Z$ be a compact $\eps$-net of $X$.
By \ref{SHORT.ex:net:finite}, $Z$ admits a finite $\eps$-net $F$.
Note that $F$ is a $2\cdot\eps$-net of $X$.
Since $\eps>0$ is arbitrary, we get the result.


\parbf{\ref{ex:pack-net}.} If $x_1,\dots,x_n$ is not an $\eps$-net, then there is a point $y$ such that $\dist{x_i}{y}{}\ge\eps$ for any $i$.
Therefore $x_1,\dots,x_n$ is not a maximal packing --- a contradiction.

\parbf{\ref{ex:pack-vol}}; \ref{SHORT.ex:pack-vol:pack}
Apply the Bishop--Gromov inequality (\ref{inq:BG}).

\parit{\ref{SHORT.ex:pack-vol:dim}}
By \ref{ex:dim-lim}, $\dim\spc{A}_\infty\le m$.
To show that $\dim\spc{A}_\infty\ge m$,
apply \ref{cor:euclid-subcone} to a maximal packing and use the estimate in \ref{SHORT.ex:pack-vol:pack}.

\parit{Comment.}
In fact,
\[\vol_m\spc{A}_\infty=\lim_{n\to\infty} \vol_m\spc{A}_n;\]
in other words, if $\bm{K}\subset \GH$ denotes the set of isometry classes of all compact $\Alex\kappa$ spaces with dimension $\le m$, then the function
$\vol_m\:\bm{K}\to \RR$ is continuous.


\parbf{\ref{ex:diam-compact:GH}.}
Argue as in \ref{thm:gromov-compactness} to construct a Gromov--Hausdorff convergence of $\cBall(p_n,R)_{\spc{A}_n}$ for given $R>0$, then apply the diagonal procedure to construct the needed convergence.

\parbf{\ref{ex:no-conc}.}
Consider the infinite product $\SSS^1\times ({\tfrac 12}\cdot \SSS^1)\times ({\tfrac 14}\cdot \SSS^1)\times\dots$

\parbf{\ref{ex:no-cont-lifting}.} Consider the canonical metric $g$ on the round unit sphere $\SSS^3$ and the Hopf bundle $\SSS^3\to \SSS^2$. Let $g_n$ be obtained from $g$ by rescaling the Hopf fibers by $\frac{1}{n}$.
Then all  $(\SSS^3,g_n)$ have nonnegative curvature and this sequence converges to the round metric on $\SSS^2$ of radius $\frac{1}{2}$. Verify that this convergence provides the desired counterexample.
\parbf{\ref{ex:conic}.}
Let $V$ and $W$ be two conic neighborhoods of a point~$p$.
Without loss of generality, we may assume that $V\Subset W$;
that is, the closure of $V$ lies in $W$.

Construct a sequence of embeddings $f_n\:V\to W$
such that 
\begin{itemize}
\item 
For any compact set $K\subset V$ 
there is a positive integer $n=n_K$ such that 
$f_n(k)=f_m(k)$ for any $k\in K$ and $m, n \ge n_K$.
\item For any point $w\in W$ there is a point $v\in V$ such that $f_n(v)=w$ for all large $n$.
\end{itemize}

Once such a sequence is constructed, $f\:V\to W$ can be defined by $f(v)=f_n(v)$ for all large values of $n$ gives the needed homeomorphism.

The sequence $f_n$ can be constructed recursively
\[f_{n+1}=\Psi_n\circ f_n\circ \Phi_n,\]
where $\Phi_n\:V\to V$ 
and $\Psi_n\:W\to W$ 
are homeomorphisms
of the form 
\[\Phi_n(x)=\phi_n(x)\ast x\quad \text{and}\quad \Phi_n(x)=\psi_n(x)\star x,\]
where $\phi_n\:V\to \RR_{\ge 0}$, $\psi_n\:W\to \RR_{\ge 0}$ are suitable continuous functions;
``$\ast$'' and ``$\star$'' denote the multiplications in the cone structures of $V$ and $W$ respectively.

\parit{Comment.} If it is hard to follow, read the original proof by Kyung Whan Kwun \cite{kwun1964}.

\parbf{\ref{ex:conic-tangent}}; \ref{SHORT.ex:conic-tangen:tangent}. Apply \ref{thm:spherical-nbhd} and \ref{lem:kwun}.

\parit{\ref{SHORT.ex:conic-tangen:dir}.} Apply \ref{SHORT.ex:conic-tangen:tangent}.

\parit{\ref{SHORT.ex:conic-tangen:example}.} Recall that the Poincaré homology sphere can be obtained as a quotient space $\Sigma=\SSS^3/\Gamma$ by an isometric action of a finite group $\Gamma$  --- the so-called binary icosahedral group.
By the double suspension theorem,  $\Susp^2\Sigma\cong\SSS^5$.
Note that $\Susp^2\Sigma$ is an Alexandrov space and it has a point with space of directions isometric to $\Susp\Sigma$.
Observe that $\Susp\Sigma$ is not a manifold; in particular $\Susp\Sigma\ncong\SSS^4$.
Therefore the pair $\Susp^2\Sigma$ and $\SSS^5$ provides the needed example.

\parbf{\ref{ex:bry2bry}.} Apply \ref{thm:spherical-nbhd}, \ref{lem:kwun}, and \ref{thm:top-bry}.

\parbf{\ref{ex:bry-closed}.}
Let $\spc{A}$ be a finite-dimensional Alexandrov space.
Choose $x\in\spc{A}$.
By \ref{thm:spherical-nbhd}, a neighborhood $U\ni x$ is homeomorphic to $\T_x$.
Therefore \ref{ex:bry2bry}, implies that $U\cap\partial\spc{A}=\emptyset$ if and only if $x\notin \partial\spc{A}$;
that is, the complement $\spc{A}\setminus\partial\spc{A}$ is open, and therefore, $\spc{A}$ is closed.

\parbf{\ref{ex:pz<ypz}.}
Consider the model triangle $[\tilde x\tilde y\tilde z']=\modtrig(xyz)$.
\begin{figure}[ht!]
\vskip-0mm
\centering
\includegraphics{mppics/pic-1015}
\end{figure}

Show that 
\[\dist{\tilde p}{\tilde z}{}\le \dist{\tilde p}{\tilde z'}{}\le\side\hinge yp{z}.\]


\parbf{\ref{ex:bry-connected}.}
Assume $\spc{A}$ has at least two boundary components, say $A$ and $B$.
Denote by $\gamma$ a geodesic that minimizes the distance from $A$ to $B$.

Let 
\[\dots,\spc{A}_{-1},\spc{A}_{0},\spc{A}_{1},\dots\]
be a two-sided infinite sequence of copies on $\partial\spc{A}$.
Let us glue $\spc{A}_{i}$ to $\spc{A}_{i+1}$ along $A$ if $i$ is even and along $B$ if $i$ is odd.

By the doubling theorem, every point in the obtained space $\spc{N}$ has a neighborhood that is isometric to a neighborhood of the corresponding point in $\spc{A}$ or its doubling.
By the globalization theorem, $\spc{N}$ is $\Alex1$.

The copies of $\gamma$ in $\spc{A}_{i}$ form a line in $\spc{N}$.
By the splitting theorem, $\spc{N}$ is isometric to a product $\spc{N}'\oplus \RR$.
Since $\dim\spc{N}>1$, Exercise~\ref{ex:dim=1} implies that $\diam\spc{N}\le \pi$ --- a contradiction.

\parbf{\ref{ex:dist-to-bry}.}
We can assume that $\dim \spc{A}\ge 2$;
otherwise the statement is tivial.

Choose $x$ on $\gamma$;
we can assume that $x=\gamma(0)$.
Let $y\in \partial \spc{A}$ be a closest point to $x$.
Let $\alpha=\mangle(\dir xy,\gamma^+(0)$.

Suppose $x\notin \partial \spc{A}$.
Show that $\T_y=\RR_{\ge0}\times\T_y\partial \spc{A}$
and $\dir yx\perp \T_y\partial \spc{A}$.

Given a vector $v\in \T_y$, denote by $\bar v$ its projection to $\T_y\partial \spc{A}$.
Apply the comparison and \ref{prop:gexp} to show that 
\[\dist{\gamma(t)}{\gexp_y(\overline{\log_x\gamma(t)})}{}\le \dist{x}{y}{}+t\cdot\cos\alpha.\]
Conclude that $\gamma''(0)\le 0$ in the barrier sense.


\parbf{\ref{ex:liberman}.}
Suppose $\gamma$ is defined on the interval $[0,\ell]$.
Assume that the function $\rho\:t\mapsto \tfrac12\cdot\distfun_p^2\circ\gamma(t)$ is not $1$-concave.
Let $\bar\rho\:[0,\ell]\to\RR$ be the minimal $1$-concave function such that $\bar\rho\ge \rho$.
Note that $\bar\rho=\rho$ at the ends of $[0,\ell]$.

Consider the curve $\bar\gamma(t)\df \GF_f^{s(t)}\gamma(t)$;
where $f=\tfrac12\cdot\distfun_p^2$ and $s(t)\z=\ln\circ\bar\rho(t)-\ln\circ\rho(t)$.
Use the first distance estimate to show that $\length\bar\gamma<\length\gamma$ and arrive at a contradiction.

\parit{Comment.}
The statement was proved by Grigory Perelman and the second author \cite{perelman-petrunin};
it generalizes a theorem of Joseph Liberman \cite{liberman} about geodesics on convex surfaces.
The original Liberman's version of the following geometric statement.
\textit{Suppose that $C$ is the cone over $\gamma$ with the vertex at $p$,
where $\gamma$ is a geodesic on a convex surface and $p$ is a point in the convex body bounded by the surface.
Then after unfolding $C$ into plane, $\gamma$ becomes a locally convex curve.}
It is instructive to check that this formulation is equivalent to ours for convex bodies.

\parbf{\ref{ex:native}.}
Choose a geodesic $\gamma$ in $\spc{W}$.
Arguing as in the proof of \ref{thm:doubling:doubling}, we get 
that $\gamma$ can cross the common boundary of two halves $\spc{A}_0$ and $\spc{A}_1$ of $\spc{W}$ at most once, or it lies in the common boundary.

In the later case $\lambda$-concavity of $f\circ\proj\circ\gamma$ follows from $\lambda$-concavity of $f$.
In the former case the convexity has to be checked only at the point of crossing;
we may assume that it happens at $x=\gamma(0)$.
Since $\nabla_xf\in\partial\T_x$ for any $x\in\partial\spc{A}$ the $f$-gradient flows agree on $\spc{A}_0$ and $\spc{A}_1$.

Assume $f\circ\proj\circ\gamma$ is not $\lambda$-concavity at $0$.
Apply $f$-gradinent flow to shorten $\gamma$ keeping its ends as in the proof of \ref{ex:liberman},
and arrive at a contradiction.

\parbf{\ref{ex:Hilbert/G}.} Read \cite[Section 4]{terng-thorbergsson} and/or the solution for ``Quotient of the Hilbert space'' in \cite{petrunin2020}.

\parbf{\ref{ex:sumbetries(S^2)}}; \ref{SHORT.ex:sumbetries(S^2):1}.
Choose an isometric $\SSS^1$-action on $\SSS^2$ that fixes the poles of the sphere.
Consider the projection to the quotient space $\sigma_1\:\SSS^2\z\to \SSS^2/\SSS^1=[0,\pi]$.

\parit{\ref{SHORT.ex:sumbetries(S^2):2}.}
Take a half-circle $\gamma$ on $\SSS^2$ and define 
$\sigma_2(x)\df\distfun_\gamma(x)_{\SSS^2}$.

\parit{\ref{SHORT.ex:sumbetries(S^2):n}.}
Consider the subdivision of $\SSS^2$ into $\SSS^1$-orbits of the action from~\ref{SHORT.ex:sumbetries(S^2):1}.
Cut $\SSS^2$ into two hemispheres by meridians rotate one hemisphere by an angle $\alpha=\pi/n$ and glue it back.
Observe that there is a submetry $\sigma_n$ such that the inverse image $\sigma_n^{-1}\{y\}$ is a union of the arcs from the original $\SSS^1$-orbits.

Note that for $n=2$ we get the solution in \ref{SHORT.ex:sumbetries(S^2):2}.

\parbf{\ref{ex:sumbetries(E^2)}.}
Show that for any $x\in\EE^2$ there is a half-line $H\ni x$ such that 
the restriction $\sigma|_H$ is an isometry.
Suppose such a half-line $H$ starts at $p$ and passes thru $q$.
Show that $\langle x-p,q-p \rangle\le 0$ for any $x\in \sigma^{-1}\{0\}$.
Conclude that $\sigma^{-1}\{0\}$ is a convex closed set.
Finally use the definition of submetry to show that  $\sigma^{-1}\{0\}$ has no interior points. 

\parbf{\ref{ex:S^3/S^1}};
\ref{SHORT.ex:S^3/S^1:pq}.
Our $\SSS^1$ is a commutative subgroup of $\SO(3)$.
Therefore it is a subgroup of a maximal torus in $\SO(3)$.
Show that the described torus action is induced by a maximal torus in $\SO(3)$.
Use that maximal tori in $\SO(3)$ are conjugate.

\parit{\ref{SHORT.ex:S^3/S^1:sphere}.}
Cut $\SSS^3$ into two solid tori the Clifford torus $\tfrac1{\sqrt2}\cdot \SSS^1\times \SSS^1$.
Observe that the quotient of each solid torus is a disc;
conclude that $\Sigma_{p,q}$ is a sphere.
The torus action on $\SSS^3$ induce the needed $\SSS^1$-cation on $\Sigma_{p,q}$.

\parit{\ref{SHORT.ex:S^3/S^1:a}+\ref{SHORT.ex:S^3/S^1:b}+\ref{SHORT.ex:S^3/S^1:c}.} Straightforward calculations.

\parit{\ref{SHORT.ex:S^3/S^1:cc}.}
Consider the map $\Sigma_{p,q}\to\Sigma_{1,1}$ that sends poles to poles,
preserve the distance to the poles and respects the $\SSS^1$ action.

\parbf{\ref{ex:number(m-1)}};
\ref{SHORT.ex:number(m-1):2}.
Suppose $\mathfrak{M}_{m-1}(\Gamma)\ge 3$;
that is $\spc{A}=\EE^m/\Gamma$ has at least 3 boundary components.
Follow Case~3 in the proof \ref{thm:hsiang-kleiner} to glue a train-space from copies of $\spc{A}$ using two of these components.
Show that the obtained space splits and arrive at a contradiction.

(Alternatively, apply a similar construction to all components of the boundary.
Show that the obtained space has {}\emph{exponential volume growth};
that is, there is $a>1$ such that $\vol \oBall(p,r)>a^r$ for all large~$r$.
Arrive at a contradiction with the Bishop--Gromov inequality.)

\parit{\ref{SHORT.ex:number(m-1):1}.}
Apply the doubling theorem as in Case~2 in the proof \ref{thm:hsiang-kleiner}.

\parbf{\ref{ex:S1actsS3}.}
Show that the quotient space $\Delta=\spc{A}/\mathbb{S}^1$ is an $\Alex1$ disc and $\gamma$ projects isometrically to $\partial\Delta$.
It remains to show that the perimeter of $\Delta$ cannot exceed $2\cdot\pi$.
The latter follows from \cite[3.3.5]{petrunin:survey};
it states that if $\Delta$ as an $m$-dimensional $\Alex1$ space, then $\vol_{m-1}\partial \Delta\z\le \vol_{m-1}\partial \mathbb{S}^{m-1}$.

\parbf{\ref{ex:surf-S2}.}
We can assume that the origin lies in the interior of the convex body.
Consider the central projection from its surface, say $\Sigma$, to the sphere $\SSS^2$ centered at the origin.
Show that this projection $\Sigma\to \SSS^2$ is a homeomorphism.

\parbf{\ref{ex:vertex-essential-vertex}.}
Follow the argument in \ref{clm:total-angle}.
Show that the inequality is strict if and only if $F$ has opposite points.


\parbf{\ref{ex:geodesic-vertex}.}
Suppose a geodesic $\gamma$ passes thru a vertex $v$.
Denote by $\alpha$ and $\beta$ the angles that $\gamma$ cuts at $v$.
Since $v$ is essential, $\alpha+\beta<2\cdot\pi$.
Therefore $\alpha<\pi$ or $\beta<\pi$.
Arrive at a contradiction by showing that $\gamma$ is not length-minimizing.

\parbf{\ref{pr:tetrahedron}}; \ref{SHORT.pr:tetrahedron:=}.
Cut the surface of $T$ along three edges coming from one vertex $v_1$ and unfold the obtained surface onto the plane.
Show that this way we get a triangle, the three vertices correspond to $v_1$ and the midpoints of sides correspond to the remaining three vertices.
Make a conclusion.

\parit{\ref{SHORT.pr:tetrahedron:perp}}.
Suppose that $0,v_1,v_2,v_3\in\RR^3$ are the vertices of $T$.
From \ref{SHORT.pr:tetrahedron:=}, we have that 
\[|v_1|=|v_2-v_3|,\quad |v_2|=|v_3-v_1|,\quad|v_3|=|v_1-v_1|.\]
Use it to show that $\langle v_1,v_2+v_3-v_1\rangle=0$.
Make a conclusion.

\parbf{\ref{ex:poly-CBB}.}
We need to show that if a polyhedral surface is $\Alex0$, then the total angle $\theta$ at every vertex $p$ it at most $2\cdot\pi$.

Assume that $\theta>2\cdot\pi$,
let $\phi=\max\{\,\pi,\tfrac13\cdot\theta\,\}$.
We can choose three points $x_1$, $x_2$, and $x_3$ close to $p$ such that 
$\mangle \hinge p{x_i}{x_j}=\phi$ for $i\ne j$.
Since the points $x_i$ are close to $p$, we have $\mangle \hinge p{x_i}{x_j}=\angk p{x_i}{x_j}$.
The latter contradicts $\EE^2$-comparison. 

\parbf{\ref{ex:surface-covergence}.}
We will use that the closest-point projection from the Euclidean space to a convex body is \index{short map}\emph{short};
that is, distance-nonexpanding \cite[13.3]{petrunin-zamora}.

Assume $K_\infty$ is nondegenerate.
Without loss of generality, we may assume that 
\[\cBall(0,r)\subset K_\infty\subset\cBall(0,1)\]
for some $r>0$.
Then there is a sequence $\eps_n\to 0$ such that 
\[ K_n\subset(1+\eps_n)\cdot K_\infty
\quad\text{and}\quad
K_\infty\subset(1+\eps_n)\cdot K_n\]
for each large $n$.

Given $x\in K_n$, denote by $g_n(x)$ the closest-point projection of $(1+\eps_n)\cdot x$ to $K_\infty$.
Similarly, given $x\in K_\infty$, denote by $h_n(x)$ the closest point projection of $(1+\eps_n)\cdot x$ to $K_n$.
Note that 
\begin{align*}
\dist{g_n(x)}{g_n(y)}{}&\le (1+\eps_n)\cdot\dist{x}{y}{}
\intertext{and}
\dist{h_n(x)}{h_n(y)}{}&\le (1+\eps_n)\cdot\dist{x}{y}{}.
\end{align*}

Denote by $\Sigma_\infty$ and $\Sigma_n$ the surface of $K_\infty$ and $K_n$ respectively. 
The above inequalities imply 
\begin{align*}
\dist{g_n(x)}{g_n(y)}{\Sigma_\infty}&\le (1+\eps_n)\cdot\dist{x}{y}{\Sigma_n}
\intertext{for any $x,y\in \Sigma_n$, and}
\dist{h_n(x)}{h_n(y)}{\Sigma_n}&\le (1+\eps_n)\cdot\dist{x}{y}{\Sigma_\infty}.
\end{align*}
for any $x,y\in \Sigma_\infty$.

By a degree argument the maps $g_n$ and $h_n$ are onto.
Apply \ref{ex:GH-po} and finish the proof.

Alternatively, since the closest-point projection cannot increase the length of curve, we also get
\begin{align*}
\dist{x}{h_n\circ g_n(x)}{\Sigma_\infty}&\le 10\cdot \eps_n
\\
\dist{y}{g_n\circ h_n(y)}{\Sigma_n}&\le 10\cdot \eps_n.
\end{align*}
for all large $n$.
Therefore, $g_n$ is a $\delta_n$-isometry $\Sigma_n\to\Sigma_\infty$ for a sequence $\delta_n\to 0$.

\parit{Comments.}
More generally, if a sequence of $m$-dimensional $\Alex\kappa$ spaces $\spc{A}_1,\spc{A}_2,\dots$ converges to $\spc{A}_\infty$ and $\dim \spc{A}_\infty=m<\infty$,
then $\partial \spc{A}_n$ equipped with the induced length metrics converge to  $\partial \spc{A}_\infty$.
This statement is a partial case of the theorem about extremal subsets proved by the second author \cite[1.2]{petrunin1997}.

\parbf{\ref{ex:liberman+milka}}; \ref{SHORT.ex:liberman+milka:liberman}.
By \ref{ex:liberman}, the function $f_p\:t\mapsto \distfun_p\circ\gamma(t)$ is semiconcave for any $p\in K$.
In particular, one-sided derivatives $f_p^+(t)$ are defined for every $t$.

Given $x=\gamma(t)$, choose three points $p_1,p_2,p_3\in K$ in general position;
that is, the four points $x,p_1,p_2,p_3$ do not lie in one plane.
Observe that the distance functions $\distfun_{p_i}$ give smooth coordinates in a neighborhood of $x$.
From above the functions $f_{p_i}$ have one-sided derivatives at $t$.
Since the coordinates are smooth we get that $\gamma^+(t)$ is defined as well.

\parit{\ref{SHORT.ex:liberman+milka:milka}.}
If the plane $py_1y_2$ supports $K$, then 
$\mangle\hinge p{y_1}{y_2}_{\EE^3}=\mangle\hinge p{x_1}{x_2}_S$.
In this case, the statement follows from \ref{prop:conv-surf-CBB(0)}.

Now suppose that the line segment $[y_1y_2]_{\EE^3}$ intersects $K$.
Choose a geodesic $[y_1y_2]_W$;
note that it contains a point of $K$, say $z$.
Now consider the one-parameter family of points 
$y_i(t)\df \gamma_i(t)+\gamma_i^+(t)\z\cdot (\ell_i-t)$,
where $\ell_i=\length\gamma_i=\dist{p}{x_i}{S}$.
(This family is not necessarily continuous.)

Show that for any point $q\in K$, the function $t\mapsto \dist{q}{y_i(t)}{\EE^3}$ is nonincreasing.
Conclude that the function $t\mapsto \dist{q}{y_i(t)}{W}$ is nonincreasing for any $q\in S$.
Therefore, 
\begin{align*}
\dist{y_1}{y_2}{W}
&=\dist{y_1(0)}{y_2(0)}{W}=
\\
&=\dist{y_1(0)}{z}{W}+\dist{y_2(0)}{z}{W}\ge
\\
&\ge\dist{y_1(1)}{z}{W}+\dist{y_2(1)}{z}{W}\ge 
\\
&\ge\dist{x_1}{x_2}{S}.
\end{align*}
The last inequality follows since the closest point projection $W\to S$ is short.

It remains to consider the case when the plane $py_1y_2$ does not support $K$,
and $[y_1y_2]_{\EE^3}$ does not intersect $K$.
In this case the plane $py_1y_2$ intersects $K$ along a convex figure $F$ that lies in the solid triangle 
$py_1y_2$ and contains its vertex $p$.

Choose points $y_1'\in [py_1]_{\EE^3}$ and $y_2'\in [py_2]_{\EE^3}$ such that $[y_1'y_2']$ touches~$F$.
Denote by $x_1'\in [px_1]_{S}$ and $x_2'\in [px_2]_{S}$ the corresponding points;
that is, $\dist{p}{y_1'}{\EE^3}=\dist{p}{x_1'}S$ and $\dist{p}{y_2'}{\EE^3}=\dist{p}{x_2'}S$.
From  above, we have that $\dist{y_1'}{y_2'}{\EE^3}\ge\dist{x_1'}{x_2'}S$;
in other words, 
\[\angk p{y_1'}{y_2'}\ge \angk p{x_1'}{x_2'};\]
here we think of  $[p{y_1'}{y_2'}]$ as a triangle in $\EE^3$, but $[p{x_1'}{x_2'}]$ as a triangle in $S$.
Note that 
\[\angk p{y_1'}{y_2'}=\angk p{y_1}{y_2}
\quad\text{and}\quad
\angk p{x_1}{x_2}\le \angk p{x_1'}{x_2'};
\]
the second inequality follows from \ref{ex:noncreasing}.
Hence the remaining case follows.

\parit{Comments.}
Part~\ref{SHORT.ex:liberman+milka:liberman} is the so-called Liberman lemma --- a key tool in studying geodesics on convex surfaces.
It was originally proved by Joseph Liberman \cite{liberman}; the proof of \ref{ex:liberman} is its generalization. 

Part~\ref{SHORT.ex:liberman+milka:milka} is a result of Anatolii Milka \cite[Theorem 2]{milka1982}.

